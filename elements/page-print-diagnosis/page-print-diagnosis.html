<!-- style --><!-- behavior --><!-- custom-elements --><!-- element --><dom-module id="page-print-diagnosis">
  <template>

    <!-- style -->

    <style is="custom-style" include="common-style">
      .limiting-container {
        margin-top: 10px;
      }
      
      .external-card-title {
        margin-top: 20px;
        margin-left: 20px;
        margin-right: 10px;
        color: #777777;
      }
      
      .info-card {
        @apply(--layout-vertical);
        /*@apply(--layout-center);*/
        margin-top: 10px;
        margin-left: 10px;
        margin-right: 10px;
        padding-bottom: 20px;
      }
      
      .info-card .row {
        margin-left: 10px;
        /*margin-right: 10px;*/
        margin-top: 10px;
      }
      
      .info-card .hr {
        margin-left: 20px;
        margin-right: 20px;
        height: 1px;
        /*width: 100px;*/
        background: #dddddd;
      }
      
      .info-card .row .modifier {
        font-size: 14px;
        background: #000000;
        color: #ffffff;
        margin-left: 5px;
        padding-top: 2px;
        padding-bottom: 2px;
        padding-left: 4px;
        padding-right: 4px;
        border-radius: 4px;
        text-transform: uppercase;
      }
      
      .info-card .row .modifier.online {
        background: #757575;
      }
      
      .info-card .row .modifier.local-only {
        background: #039BE5;
      }
      
      .info-card .row .modifier.locally-updated {
        background: #009688;
      }
      
      .info-card .row .modifier.imported {
        background: #4CAF50;
      }
      
      .info-row {
        margin-top: 10px;
      }
      
      .top-info-row {
        margin-top: 10px;
        margin-bottom: 10px;
      }
      
      .serial-number {
        background: #37474F;
        color: #ffffff;
        margin-left: 5px;
        padding-top: 2px;
        padding-bottom: 2px;
        padding-left: 4px;
        padding-right: 4px;
        border-radius: 4px;
        text-transform: uppercase;
        font-weight: bold;
        display: inline-block;
        font-size: 14px;
      }
      
      .address1 {
        margin-right: 10px;
      }
      
      .name {
        margin-left: 5px;
        font-size: 24px;
      }
      
      .email {
        margin-left: 5px;
        font-size: 14px;
      }
      
      .phone {
        margin-left: 5px;
      }
      
      .val {
        text-decoration: underline;
      }
      
      .account-box {
        --iron-icon-width: 96px;
        --iron-icon-height: 96px;
      }

      .limiting-container {
      margin-top: 10px;
    }
    
    .limiting-container {
      max-width: 210mm;
      min-height: 230mm;
      /*min-height: 297mm;*/
    }
    
    .document {
      font-family: 'Times New Roman';
      background: white;
    }
    
    .document-title {
      font-size: 20px;
      font-weight: bold;
    }
    
    @media print {
      .limiting-container {
        /*margin-top: -60px;*/
        /*border: 1px solid black;*/
      }
    }
    
    .collection {
      color: red;
      background: grey;
    }
    
    .document-header {
      padding-left: 10px;
      padding-right: 10px;
    }
    
    .document-header .logo {
      max-width: 128px;
      max-height: 128px;
    }
    
    .horiline {
      width: 100%;
      height: 0px;
      /*background: black;*/
      border: 1px solid black;
      margin-bottom: 6px;
    }
    
    .leftSide {
      margin-left: 6px;
    }
    
    .leftSideLine1 {
      font-size: 24px;
    }
    
    .rightSideLine1 {
      font-size: 22px;
    }
    .item{
      padding: 10px;
      border: 1px solid grey;
    }
    </style>

    <!-- local DOM -->

    <div class="master-container">

      <div class="limiting-container document">

        <template is="dom-if" if="{{!isDiagnosisValid}}">
          Diagnosis invalid
        </template>
      

        <div class="document-header horizontal layout center">

            <template is="dom-if" if="[[settings.printDecoration.logoDataUri]]">
              <img class="logo" src="[[settings.printDecoration.logoDataUri]]" alt="">
            </template>

            <div class="leftSide vertical layout">
              <div class="leftSideLine1">[[settings.printDecoration.leftSideLine1]]</div>
              <div class="leftSideLine2">[[settings.printDecoration.leftSideLine2]]</div>
              <div class="leftSideLine3">[[settings.printDecoration.leftSideLine3]]</div>
            </div>
            <div class="flex"></div>
            <div class="rightSide vertical layout end">
              <div class="rightSideLine1">[[settings.printDecoration.rightSideLine1]]</div>
              <div class="rightSideLine2">[[settings.printDecoration.rightSideLine2]]</div>
              <div class="rightSideLine3">[[settings.printDecoration.rightSideLine3]]</div>
            </div>
        </div>

        <div class="horiline"></div>

        <div class="document-header horizontal layout center">
          <template is="dom-if" if="[[!patient.isForOrganizationOnly]]">
            Name: {{patient.name}} <br>
            Age :[[_computeAge(patient.dob)]] years <br>
            Allergy : <br>
            Blood Group : <br>
          </template>
          <template is="dom-if" if="[[patient.isForOrganizationOnly]]">
            Name: REDACTED FOR CONFIDENTIALITY <br>
            Age : REDACTED FOR CONFIDENTIALITY  <br>
            Allergy : <br>
            Blood Group : <br>
          </template>
        </div>

        <!-- Diagnosis - start -->
        <paper-card class="m-top-16" heading="Diagnosis">
          <template is="dom-if" if="[[_isEmpty(diagnosis.data.diagnosisList.length)]]">
              <div class="card-content layout horizontal center center-justified">
                <div class="type body secondary">-- empty --</div>
              </div>
          </template>

          <template is="dom-if" if="[[!_isEmpty(diagnosis.data.diagnosisList.length)]]">
            <div class="p-0">
              <paper-listbox>
                <template id="selected-diagnosis-list-repeater" is="dom-repeat" items="[[diagnosis.data.diagnosisList]]">
                  <paper-item class="custom layout horizontal">
                    <div class="type caption secondary m-right-8">[[_returnSerial(index)]].</div>
                    <div class="type body flex">
                      {{item.name}}
                    </div>
                  </paper-item>
                </template>
              </paper-listbox>
            </div>
          </template>
        </paper-card>
        <!-- Diagnosis - end -->
        <div class="sp-2"></div>
        <div class="horizontal layout center center-justified p-horizontal-16">
          <div class="type body italic"><strong>printed by: </strong>[[user.name]]</div>
        </div>

      </div>

    </div>


  </template>
  <script>(function(){Polymer({is:"page-print-diagnosis",behaviors:[app.behaviors.commonComputes,app.behaviors.dbUsing,app.behaviors.pageLike,app.behaviors.translating],properties:{isVisitValid:{type:Boolean,notify:!1,value:!1},isPatientValid:{type:Boolean,notify:!1,value:!1},user:{type:Object,notify:!0,value:null},patient:{type:Object,notify:!0,value:null},diagnosis:{type:Object,notify:!0,value:null},isDiagnosisValid:{type:Boolean,value:!1},settings:{type:Object,notify:!0}},_makeSettings:function(){var i;return i={serial:"only",isSyncEnabled:!1,printDecoration:{leftSideLine1:"My Institution",leftSideLine2:"My Institution Address",leftSideLine3:"My Institution Contact",rightSideLine1:"My Name",rightSideLine2:"My Degrees",rightSideLine3:"My Contact",footerLine:"A simple message on the bottom",logoDataUri:null},billingTargetEmailAddress:"",nsqipTargetEmailAddress:"",monetaryUnit:"BDT"}},_getSettings:function(){var i,t;return i=app.db.find("settings"),t=0===i.length?this._makeSettings():i[0]},_loadUser:function(){var i;if(i=app.db.find("user"),1===i.length)return this.user=i[0]},_loadPatient:function(i){var t;return t=app.db.find("patient-list",function(t){var n;return n=t.serial,n===i}),1===t.length?(this.isPatientValid=!0,this.patient=t[0]):this._notifyInvalidPatient()},$of:function(i,t){return t in i||(i[t]=null),i[t]},printButtonPressed:function(i){return window.print()},arrowBackButtonPressed:function(i){return this.domHost.navigateToPreviousPage()},_notifyInvalidPatient:function(){return this.isPatientValid=!1,this.domHost.showModalDialog("Invalid Patient!")},_notifyInvalidDiagnosis:function(){return this.isDiagnosisValid=!1,this.domHost.showModalDialog("Invalid Diagnosis!")},_loadDiagnosis:function(i){var t;return t=app.db.find("diagnosis-record",function(t){var n;return n=t.serial,n===i}),1===t.length?(this.isDiagnosisValid=!0,this.diagnosis=t[0],this._loadPatient(this.diagnosis.patientSerial),!0):(this._notifyInvalidDiagnosis(),!1)},_computeAge:function(i){var t,n,e,a;return a=new Date,n=new Date(i),t=a.getFullYear()-n.getFullYear(),e=a.getMonth()-n.getMonth(),(e<0||0===e&&a.getDate()<n.getDate())&&t--,t},_isEmpty:function(i){return 0===i},_returnSerial:function(i){return i+1},navigatedIn:function(){var i;return this._loadUser(),i=this.domHost.getPageParams(),i.diagnosis?(this._loadDiagnosis(i.diagnosis),this.settings=this._getSettings()):void this._notifyInvalidDiagnosis()},navigatedOut:function(){return this.visit={},this.patient={},this.diagnosis={},this.isVisitValid=!1,this.isPatientValid=!1,this.isDiagnosisValid=!1},_formatDateTime:function(i){return lib.datetime.format(i,"mmm d, yyyy h:MMTT")},_formatDate:function(i){return lib.datetime.format(i,"mmm d, yyyy")}})}).call(this);
//# sourceMappingURL=page-print-diagnosis.coffee-compiled.js.map</script>
</dom-module>


