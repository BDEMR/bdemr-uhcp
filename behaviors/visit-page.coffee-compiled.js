(function(){app.behaviors.visitPage={properties:{visit:{type:Object,notify:!0,value:null},patient:{type:Object,notify:!0,value:null}},genericNavigatedIn:function(){var t;if(t=this.domHost.getPageParams(),t.visit?"new"===t.visit?this._makeNewVisit():this._loadVisit(t.visit):this._notifyInvalidVisit(),this.visit)return t.patient?this._loadPatient(t.patient):this.visit.patientSerial?this._loadPatient(this.visit.patientSerial):this._notifyInvalidPatient()},navigatedOut:function(){return this.visit=null,this.patient=null},_saveVisit:function(){return app.db.upsert("doctor-visit",this.visit,function(t){return function(i){var n;return n=i.serial,t.visit.serial===n}}(this)),this.domHost.showToast("Visit Saved")},arrowBackButtonPressed:function(t){return this.domHost.navigateToPreviousPage()},saveButtonPressed:function(t){return this._saveVisit(),this.arrowBackButtonPressed()},_loadPatient:function(t){var i;return i=app.db.find("patient",function(i){var n;return n=i.serial,n===t}),1===i.length?this.patient=i[0]:this._notifyInvalidPatient()},_notifyInvalidPatient:function(){return this.domHost.showModalDialog("Invalid Patient Provided")},_loadVisit:function(t){var i;return i=app.db.find("doctor-visit",function(i){var n;return n=i.serial,n===t}),1===i.length?this.visit=i[0]:this._notifyInvalidVisit()},_notifyInvalidVisit:function(){return this.domHost.showModalDialog("Invalid Visit Provided")}}}).call(this);
//# sourceMappingURL=visit-page.coffee-compiled.js.map