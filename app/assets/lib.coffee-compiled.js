(function(){var t,e,n,i,r,o,a,l,u,s,c,f=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},d={}.hasOwnProperty,m=[].slice;window.lib={},a=window["date-format-library"].dateFormat,lib.datetime={},lib.datetime.now=function(){return(new Date).getTime()},lib.datetime.format=a,lib.datetime.templates=a.masks,lib.datetime.templates.date="yyyy-mm-dd",lib.datetime.templates.time="HH:MM:ss",lib.datetime.templates.datetime="yyyy-mm-dd HH:MM:ss",lib.datetime.mkDate=function(t){return a(t,lib.datetime.templates.date)},lib.datetime.mkTime=function(t){return a(t,lib.datetime.templates.time)},lib.datetime.mkDatetime=function(t,e){return a(t,e?e:lib.datetime.templates.datetime)},lib.datetime.diff=function(t,e){var n,i,r;return i=t?t.getTime():0,r=e?e.getTime():0,n=i-r},lib.datetime.makeRelativeTimeString=function(t){return t=Math.round(t/1e3),t<60?"around "+t+" seconds ago":t<90?"around a minute ago":(t=Math.round(t/60),t<60?"around "+t+" minutes ago":(t=Math.round(t/60),"around "+t+" hours ago"))},function(){return this.unique=function(t){var e,n,i,r;for(r=[],n=0,i=t.length;n<i;n++)e=t[n],f.call(r,e)<0&&r.push(e);return r},this.reverse=function(t){var e,n;return n=function(){var n,i,r;for(r=[],n=0,i=t.length;n<i;n++)e=t[n],r.push(e);return r}(),n.reverse(),n}}.call(lib.array={}),s=window["evolvenode-stdlib"],t=s.Collector,i=s.Iterator,u=s.iterate,e=s.Condition,o=s.asyncIf,l=s.delay,r=s.Notifier,c=s.setImmediate,function(){var n,a,s;return this.Collector=t,this.Iterator=i,this.iterate=u,this.Condition=e,this.asyncIf=o,this.delay=l,this.Notifier=r,this.setImmediate=c,this.shallowCopy=function(t){var e,n;if(null===t||"object"!=typeof t)return t;n=new t.constructor;for(e in t)n[e]=t[e];return n},this.deepCopy=a=function(t){var e,n;if(null===t||"object"!=typeof t)return t;n=new t.constructor;for(e in t)n[e]=a(t[e]);return n},this.findDeepValue=s=function(t,e){var n,i,r;if(r=null,e instanceof Array)for(n=0;n<e.length&&!(r=s(t,e[n]));)n++;else for(i in e){if(i===t)return e[i];if((e[i]instanceof Object||e[i]instanceof Array)&&(r=s(t,e[i])))break}return r},n=[],this.callOnlyOnce=function(t){if(f.call(n,t)<0)return n.push(t),t()}}.call(lib.util={}),function(){return this.replaceAll=function(t,e,n,i){return t.replace(new RegExp(e.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),i?"gi":"g"),"string"==typeof n?n.replace(/\$/g,"$$$$"):n)},this.replaceLast=function(t,e,n){var i,r;return r=t.lastIndexOf(e),r===-1?t:i=t.substring(0,r)+n+t.substr(r+e.length)}}.call(lib.string={}),function(){var t;return t=/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i,this.stringify=function(t){return JSON.stringify(t)},this.parse=function(e){return JSON.parse(e,function(e,n){return"string"==typeof n&&t.test(n)?new Date(n):n})}}.call(lib.json={}),function(){return this.compress=function(t){return pako.deflate(t,{to:"string"})},this.decompress=function(t){return pako.inflate(t,{to:"string"})}}.call(lib.compression={}),function(){return this.hash=function(t){return sjcl.codec.base64.fromBits(sjcl.hash.sha256.hash(t))},this.encrypt=function(t,e){return sjcl.encrypt(t,e)},this.decrypt=function(t,e){return sjcl.decrypt(t,e)}}.call(lib.security={}),function(){return this.setItem=function(t,e){return window.localStorage.setItem(t,e)},this.getItem=function(t){return window.localStorage.getItem(t)},this.removeItem=function(t){return window.localStorage.removeItem(t)},this.clear=function(){return window.localStorage.clear()},this.hasItem=function(t){return null!==window.localStorage.getItem(t)}}.call(lib.localStorage={}),function(){return this.setItem=function(t,e){return window.sessionStorage.setItem(t,e)},this.getItem=function(t){return window.sessionStorage.getItem(t)},this.removeItem=function(t){return window.sessionStorage.removeItem(t)},this.clear=function(){return window.sessionStorage.clear()},this.hasItem=function(t){return null!==window.sessionStorage.getItem(t)}}.call(lib.tabStorage={}),function(){var t;return t={},this.setItem=function(e,n){return t[e]=n,null},this.getItem=function(e){return e in t?t[e]:null},this.removeItem=function(e){return e in t&&delete t[e],null},this.clear=function(){return t={},null},this.hasItem=function(e){return e in t}}.call(lib.memStorage={}),n=window["database-engine"].DatabaseEngine,lib.DatabaseEngine=n,function(){var t,e,n;return this.serializeAndUrlEncode=n=function(t){var e,n;return e=[],(n=function(t,i){var r,o,a,l,u;l=[];for(a in t)d.call(t,a)&&(u=t[a],u instanceof Array?l.push(function(){var t,e,l;for(l=[],o=t=0,e=u.length;t<e;o=++t)r=u[o],l.push(n(r,null!=i?i+"["+a+"][]":a+"[]"));return l}()):u instanceof Object?(null!=i?i+="["+a+"]":i=a,l.push(n(u,i))):(u=encodeURIComponent(u),l.push(e.push(null!=i?i+"["+a+"]="+u:a+"="+u))));return l})(t,null),e.join("&")},this.request=e=function(t,e,i,r){var o;return o=new XMLHttpRequest,"GET"===e?(i=n(i),o.open(e,t+"?"+i,!0)):o.open(e,t,!0),o.addEventListener("load",function(t){return r(null,t)},!1),o.addEventListener("error",function(t){return r(t)},!1),o.addEventListener("abort",function(t){return r(t)},!1),"GET"===e?o.send():o.send(i)},this.callBdemrPostApi=t=function(t,n,i){var r,o;return o=app.config.masterApiVersion,"/"!==t.charAt(0)&&(t="/"+t),r=app.config.serverHost+"/api/"+o+t,"object"!=typeof n&&(n={}),n.__meta={clientIdentifier:app.config.clientIdentifier,clientName:app.config.clientName,clientVersion:app.config.clientVersion,clientPlatform:app.config.clientPlatform},n=lib.json.stringify(n),e(r,"POST",n,function(t,e){return t?i(t):i(null,lib.json.parse(e.target.responseText))})},this.ensureBaseNetworkDelay=function(t){var e;return e=lib.datetime.now(),function(){var n,i,r;return n=1<=arguments.length?m.call(arguments,0):[],r=lib.datetime.now(),i=r-e,i>app.options.baseNetworkDelay?t.apply(null,n):lib.util.delay(app.options.baseNetworkDelay-i,function(){return t.apply(null,n)})}}}.call(lib.network={}),lib.debug=function(){var t;t=1<=arguments.length?m.call(arguments,0):[]}}).call(this);
//# sourceMappingURL=lib.coffee-compiled.js.map