<!-- style --><!-- behavior --><!-- custom-elements --><!-- element --><dom-module id="page-preconception-record">
  <template>

    <!-- style -->

    <style is="custom-style" include="common-style">
      .limiting-container {
        margin-top: 10px;
      }

      .patient-info-card-counter {
        margin-top: 20px;
        margin-left: 20px;
        margin-right: 10px;
        color: #777777;
      }

      .patient-info-cards {
        @apply(--layout-vertical);
        /*@apply(--layout-center);*/
        margin-top: 10px;
        margin-left: 10px;
        margin-right: 10px;
        padding-bottom: 20px;
      }

      .patient-info-cards .row {
        margin-left: 10px;
        /*margin-right: 10px;*/
        margin-top: 10px;
      }

      .patient-info-cards .hr {
        margin-left: 20px;
        margin-right: 20px;
        height: 1px;
        /*width: 100px;*/
        background: #dddddd;
      }

      .patient-info-cards .row .modifier {
        font-size: 14px;
        background: #000000;
        color: #ffffff;
        margin-left: 5px;
        padding-top: 2px;
        padding-bottom: 2px;
        padding-left: 4px;
        padding-right: 4px;
        border-radius: 4px;
        text-transform: uppercase;
      }

      .patient-info-cards .row .modifier.online {
        background: #757575;
      }

      .patient-info-cards .row .modifier.local-only {
        background: #039BE5;
      }

      .patient-info-cards .row .modifier.locally-updated {
        background: #009688;
      }

      .patient-info-cards .row .modifier.imported {
        background: #4CAF50;
      }

      /*.info-row {
        margin-top: 10px;
      }*/

      .top-info-row {
        margin-top: 10px;
        margin-bottom: 10px;
      }

      .serial-number {
        background: #37474F;
        color: #ffffff;
        margin-left: 5px;
        padding-top: 2px;
        padding-bottom: 2px;
        padding-left: 4px;
        padding-right: 4px;
        border-radius: 4px;
        text-transform: uppercase;
        font-weight: bold;
      }

      .address1 {
        margin-right: 10px;
      }

      .break-on-tablet {
        @apply(--layout-horizontal);
      }

      @media screen and (max-width: 740px) {
        .break-on-tablet {
          display: block;
        }
      }

      .val {
        text-decoration: underline;
      }

      .custom-input {
        width: calc(100% - 26px);
      }

      @media screen and (min-width: 656px) {
        .custom-input {
          width: calc(50% - 26px);
        }
      }

      @media screen and (min-width: 976px) {
        .custom-input {
          width: calc(33.33333% - 26px);
        }
      }

      .custom-checkbox {
        width: calc(100% - 34px);
      }

      @media screen and (min-width: 656px) {
        .custom-checkbox {
          width: calc(50% - 34px);
        }
      }

      @media screen and (min-width: 976px) {
        .custom-checkbox {
          width: calc(33.33333% - 34px);
        }
      }

      .paper-custom {
        background-color: #fff;
        border: 1px solid #dadada;
        border-radius: 6px;
        padding: 0px 8px 12px 8px;
        margin: 4px;
        min-width: calc(100% - 26px);
      }



      @media screen and (min-width: 656px) {
        .paper-custom {
          min-width: calc(50% - 26px);
        }
        .paper-custom.full {
          min-width: calc(100% - 26px);
        }
      }

      @media screen and (min-width: 976px) {
        .paper-custom {
          min-width: calc(33.33333% - 26px);
        }
        .paper-custom.full {
          min-width: calc(100% - 26px);
        }
      }

      paper-checkbox.custom-checkbox {
        background-color: #fff;
        border: 1px solid #dadada;
        border-radius: 6px;
        padding: 8px;
      }

      /*Print Preview*/

      .document {
        font-family: 'Times New Roman';
        background: white;
      }

      .document-title {
        font-size: 20px;
        font-weight: bold;
      }

      .collection {
        color: red;
        background: grey;
      }

      .document-header {
        /*background-color: #fafafa;*/
        padding-left: 10px;
        padding-right: 10px;
        border-bottom: 1px solid #eee;
      }

      .document-header .logo {
        max-width: 128px;
        max-height: 128px;
      }

      .horiline {
        width: 100%;
        height: 0px;
        /*background: black;*/
        border: 1px solid black;
        margin-bottom: 6px;
      }

      .leftSide {
        margin-left: 6px;
      }

      .leftSideLine1 {
        font-size: 24px;
      }

      .rightSideLine1 {
        font-size: 22px;
      }


      .document-header2 .logo {
        max-width: 128px;
        max-height: 128px;
      }

      .patient-details {
        background-color: #009688;
        color: #fff;
      }

      .print-content {
        border-top: 1px solid #eee;
        @apply(--layout-horizontal);
      }

      .print-content .left {
        width: 34%;
        border-right: 1px solid #eee;
      }

      .print-content .right {
        width: 66%;
      }

      ol.order-list {
        margin: 4px 0;
        padding-left: 16px;
        list-style-type: lower-alpha;
      }

      ul.unorderd-list-custom {
        margin: 4px 0;
        padding-left: 16px;
      }

      ol.order-list li {
        margin: 4px 0;
      }

      .print-sub-header {
        font-size: bold;
        background-color: #fafafa;
        margin-bottom: 8px;
      }

      #printPreview {
        display: none !important;
      }

      @media print {

        #hideOnPrint {
          display: none !important;
        }

        #printPreview {
          display: block !important;
          background-color: transparent;
        }
      }

      @media print {
        app-header-layout #contentContainer {
          overflow-y: unset !important;
        }
      }

      .card-custom-header {
        padding: 8px;
        /*border-bottom: 1px solid var(--paper-grey-200);*/
        background-color: var(--paper-grey-50);
      }

      .deep {
        background-color: var(--paper-grey-200);
      }

      .card-custom-header .title {
        font-size: 20px;
        font-weight: 500;
        color: var(--brand-primary-color);
      }

      vaadin-combo-box ::content paper-input-container {
        padding: 8px 0;
      }


      .custom-label-2 {
        background-color: #fafafa;
        padding: 6px 12px;
        margin: 4px;
        width: calc(100% - 36px);
        border-radius: 6px;
        border: 2px solid #eee;
      }

      /*.custom-label-2 .type {
        font-weight: 500 !important;
      }*/

      .custom-label-2.normal {
        border-color: #43A047;
        color: #43A047 !important;
      }

      .custom-label-2.warning {
        border-color: #E65100;
        color: #E65100 !important;
      }

      .custom-label-2.danger {
        border-color: #E53935;
        color: #E53935 !important;
      }

      @media screen and (min-width: 656px) {
        .custom-label-2 {
          width: calc(50% - 36px);
        }
      }

      @media screen and (min-width: 976px) {
        .custom-label-2 {
          width: calc(33.33333% - 36px);
        }
      }

      .custom-radio-button-group.full-width {
        width: calc(100% - 26px) !important;
      }

      .custom-label.full-width {
        width: calc(100% - 26px);
      }

      .custom-radio-button-group,
      .custom-label {
        background-color: #fff;
        border: 1px solid #dadada;
        border-radius: 6px;
        padding: 8px;
        margin: 4px;
        width: calc(100% - 26px);
      }

      @media screen and (min-width: 656px) {
        .custom-radio-button-group,
        .custom-label {
          width: calc(50% - 26px);
        }
      }

      @media screen and (min-width: 976px) {
        .custom-radio-button-group,
        .custom-label {
          width: calc(33.33333% - 26px);
        }
      }

      paper-tab {
        text-transform: uppercase;
      }

      .btn-add {
        min-width: 3em;
      }

      .custom-item {
        padding: 6px 12px;
        border-radius: 6px;
        margin: 6px 4px;
        border: 1px solid #dadada;
        background-color: #fff
      }
    </style>

    <!-- local DOM -->

    <div id="hideOnPrint">
      <div class="tabs-container">
        <paper-tabs selected="{{selectedPatientInfoPage}}" noink="true" scrollable="" on-iron-select="onPageSelect">
          <paper-tab>General</paper-tab>
          <template is="dom-if" if="[[IS_NEW_PATIENT]]">
            <paper-tab>Additional</paper-tab>
          </template>
          <!-- <template is="dom-if" if="[[$equals(pcc.visitReason.type, 'Preconception')]]"> -->
          <paper-tab>Medical</paper-tab>
          <!-- </template> -->

          <paper-tab>Clinical</paper-tab>
          <template is="dom-if" if="[[IS_NEW_PATIENT]]">
            <paper-tab>Questionnaire</paper-tab>
          </template>
          <paper-tab>
            <!-- <span hidden$="[[!IS_NEW_PATIENT]]">Medical Information</span>
            <span hidden$="[[IS_NEW_PATIENT]]">Medication Information</span> -->
            Medication Information
          </paper-tab>
          <paper-tab>Complete</paper-tab>
        </paper-tabs>
      </div>

      <div class="master-container">

        <div class="limiting-container">

          <iron-pages selected="{{selectedPatientInfoPage}}">

            <!-- Page - General - START -->
            <section>
              <paper-card>
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <!-- <paper-icon-button icon="icons:chevron-right"></paper-icon-button> -->
                    <div class="flex">
                      <div class="title">
                        <!-- <div class="type caption-2 secondary"><strong>STEP #1</strong></div> -->
                        <div>General</div>
                      </div>
                    </div>

                    <div class="horizontal layout">
                      <template is="dom-if" if="[[IS_NEW_PATIENT]]">
                        <paper-button class="btn-add colored" on-tap="nextButton" raised="">
                          <iron-icon class="m-right-8" icon="arrow-forward"></iron-icon>Next</paper-button>
                      </template>
                    </div>
                  </div>
                </div>

                <div class="p-8" hidden$="{{!EDIT_RECORD}}">

                  <div class="custom-label full-width">
                    <strong>Center Name:</strong>
                    <span>{{organization.name}}</span>
                  </div>

                  <div class="custom-label full-width type caption-2 horizontal layout wrap">
                    <div class="m-horizontal-4">
                      <strong>Record Serial:</strong>
                      <span>{{pcc.serial}}</span>
                    </div>
                    <div class="m-horizontal-4">
                      <strong>Created on:</strong>
                      <span>{{$mkDateTime(pcc.createdDatetimeStamp)}}</span>
                    </div>
                    <div class="m-horizontal-4">
                      <strong>Last Modified on:</strong>
                      <span>{{$mkDateTime(pcc.lastModifiedDatetimeStamp)}}</span>
                    </div>
                    <div class="m-horizontal-4">
                      <strong>Created by:</strong>
                      <span>{{pcc.createdByUserName}}</span>
                    </div>
                  </div>

                  <div class="custom-label full-width">
                    <strong>Visit Reason:</strong>
                    <span>{{pcc.visitReason.type}}</span>
                  </div>
                </div>
              </paper-card>

              <paper-card class="m-top-8">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="flex">
                      <div class="title">Basic</div>
                    </div>
                  </div>
                </div>
                <div class="p-8">

                  <div class="horizontal layout">
                    <!-- <vaadin-combo-box class="flex paper-custom" label="Visit Reason" placeholder="Type/Select Reason" items="{{visitList}}" allow-custom-value="true"
                      value="{{pcc.visitReason}}"></vaadin-combo-box> -->
                    <paper-dropdown-menu class="flex paper-custom" label="Visit Reason" placeholder="Type/Select Reason" value="{{pcc.visitReason.type}}" vertical-align="top" horizontal-align="left" hidden$="{{EDIT_RECORD}}">
                      <paper-menu class="dropdown-content" on-iron-select="onVisitReasonChange" selected="{{visitReasonIndex}}">
                        <template is="dom-repeat" items="[[visitReasonList]]">
                          <paper-item>{{item.value}}</paper-item>
                        </template>
                      </paper-menu>
                    </paper-dropdown-menu>
                  </div>

                  <div class="horizontal layout wrap">
                    <!-- <paper-input class="flex paper-custom" value="{{patient.name.honorifics}}" label="Honorifics"></paper-input> -->
                    <paper-input class="flex paper-custom" value="{{patient.name.first}}" label="First Name*" required="" auto-validate="" error-message="First Name is Required!"></paper-input>
                    <paper-input class="flex paper-custom" value="{{patient.name.middle}}" label="Middle Name"></paper-input>
                    <paper-input class="flex paper-custom" value="{{patient.name.last}}" label="Last Name"></paper-input>
                  </div>


                  <template is="dom-if" if="[[!EDIT_MODE_ON]]">
                    <div class="horizontal layout">
                      <paper-input type="text" class="flex paper-custom" value="{{patient.phone}}" label="Phone Number*" pattern="^[0-9]{11,11}(-[0-9]*){0,1}$" required="" auto-validate="" error-message="Phone Number Must Contain 11 Digit or Further with Extention. Sample: 01712345678 or 01712345678-12" char-counter="" minlength="11" maxlength="14">
                        <div prefix="">+88</div>
                      </paper-input>
                    </div>
                  </template>

                  <div class="horizontal layout">
                    <paper-input class="flex paper-custom" value="{{patient.email}}" label="Email Address" pattern="^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$" auto-validate="" error-message="Valid Email Address Required"></paper-input>
                  </div>

                  <div class="horizontal layout">
                    <paper-input type="number" class="flex paper-custom" value="{{patient.additionalPhoneNumber}}" label="Additional Phone Number" pattern="^[0-9]{11,11}(-[0-9]*){0,1}$" auto-validate="" error-message="Enter a Valid Phone Number!" char-counter="" maxlength="11">
                      <div prefix="">+88</div>
                    </paper-input>
                  </div>

                  <div class="layout horizontal wrap">
                    <vaadin-date-picker required="" auto-validate="" error-message="Date of Birth is Required!" class="flex paper-custom" type="date" value="{{patient.dateOfBirth}}" label="Date of Birth (mm/dd/yyyy)" on-value-changed="calculateAge"></vaadin-date-picker>

                    <paper-input class="flex m-left-8 paper-custom" label="Age" type="number" value="{{ageInYears}}" on-change="makeDOBFromYears">
                      <div class="type secondary" suffix="">Years</div>
                    </paper-input>

                    <!-- <paper-dropdown-menu class="m-left-8 flex paper-custom" label="Gender" value="{{patient.gender}}">
                      <paper-menu class="dropdown-content" selected="0">
                        <paper-item>[[$TRANSLATE('Male', LANG)]]</paper-item>
                        <paper-item>[[$TRANSLATE('Female',LANG)]]</paper-item>
                        <paper-item>[[$TRANSLATE('Other',LANG)]]</paper-item>
                      </paper-menu>
                    </paper-dropdown-menu> -->
                  </div>
                  <div class="horizontal layout">
                    <paper-input class="flex paper-custom" value="{{patient.effectiveRegion}}" label="Effective Region"></paper-input>
                  </div>

                  <template is="dom-if" if="[[!EDIT_MODE_ON]]">
                    <div class="horizontal layout">
                      <paper-input class="flex paper-custom" min="6" value="{{patient.password}}" label="Password" pattern="^.{6,}$" required="" auto-validate="" error-message="Password Must be 6 characters long!"></paper-input>
                    </div>

                    <div class="horizontal layout">
                      <paper-input class="flex paper-custom" value="{{patient.doctorAccessPin}}" label="Doctor Access Pin Code" max="4"></paper-input>
                    </div>

                    <!-- <div class="horizontal layout">
                      <paper-input class="flex paper-custom" value="{{patient.belongOrganizationList.0.patientIdbyOrganization}}" label="Patient Organization Id/Hospital Id"></paper-input>
                    </div> -->
                  </template>

                </div>
                <template is="dom-if" if="[[IS_NEW_PATIENT]]">
                  <div class="card-content">
                    <div class="type body">
                      <strong>{{pccOthers.survey.0.question}}</strong>
                    </div>

                    <paper-radio-group selected="{{patient.generalInfo.survey.0.answer}}" aria-labelledby="">
                      <template is="dom-repeat" items="[[survey1ChoiceList]]" as="choice">
                        <paper-radio-button name="{{choice}}">{{choice}}</paper-radio-button>
                      </template>
                    </paper-radio-group>
                  </div>
                </template>
              </paper-card>
            </section>
            <!-- Page - General - END -->

            <!-- Page - Personal - START -->
            <template is="dom-if" if="[[IS_NEW_PATIENT]]">
              <section>
                <paper-card>
                  <div class="card-custom-header">
                    <div class="layout horizontal center">
                      <!-- <paper-icon-button icon="icons:chevron-right"></paper-icon-button> -->
                      <div class="flex">
                        <div class="title">
                          <!-- <div class="type caption-2 secondary"><strong>STEP #2</strong></div> -->
                          <div>Additional</div>
                        </div>
                      </div>

                      <div class="horizontal layout">
                        <paper-button class="btn-add" on-tap="backButton" raised="">
                          <iron-icon icon="arrow-back"></iron-icon>
                        </paper-button>
                        <paper-button class="btn-add colored" on-tap="nextButton" raised="">
                          <iron-icon class="m-right-8" icon="arrow-forward"></iron-icon>Next</paper-button>
                      </div>
                    </div>
                  </div>
                </paper-card>

                <paper-card class="m-top-8">
                  <div class="card-custom-header">
                    <div class="layout horizontal center">
                      <div class="title flex">Personal</div>
                    </div>
                  </div>
                  <div class="p-8">

                    <div class="horizontal layout wrap">
                      <paper-dropdown-menu class="paper-custom" label="Blood Group" value="{{patient.bloodGroup}}">
                        <paper-menu class="dropdown-content" selected="[[bloodGroupIndex]]">
                          <template is="dom-repeat" items="[[bloodGroupList]]">
                            <paper-item>{{item}}</paper-item>
                          </template>
                        </paper-menu>
                      </paper-dropdown-menu>

                      <div class="custom-radio-button-group">
                        <div>
                          <strong>Have Allergy?</strong>
                        </div>
                        <paper-radio-group selected="{{haveAllery}}">
                          <paper-radio-button name="yes">Yes</paper-radio-button>
                          <paper-radio-button name="no">No</paper-radio-button>
                        </paper-radio-group>
                      </div>

                      <template is="dom-if" if="[[$equals(haveAllery, 'yes')]]">
                        <paper-input type="text" class="flex paper-custom" value="{{patient.allergy}}" label="Type Allergy(s) Names"></paper-input>
                      </template>


                    </div>

                    <div class="horizontal layout wrap">
                      <paper-input type="text" class="flex paper-custom" value="{{patient.patientSpouseName}}" label="Spouse Name"></paper-input>
                      <paper-input type="text" class="flex paper-custom" value="{{patient.patientFatherName}}" label="Father's Name"></paper-input>
                      <paper-input type="text" class="flex paper-custom" value="{{patient.patientMotherName}}" label="Mother's Name"></paper-input>
                    </div>

                    <div class="info-row break-on-tablet">

                      <vaadin-combo-box class="flex paper-custom" label="Expenditure" placeholder="Type/Select Expenditure" items="{{expenditureList}}" allow-custom-value="true" value="{{patient.expenditure}}"></vaadin-combo-box>
                      <vaadin-combo-box class="flex paper-custom" label="Profession" placeholder="Type/Select Profession" items="{{professionList}}" allow-custom-value="true" value="{{patient.profession}}"></vaadin-combo-box>

                    </div>

                    <div class="info-row">
                      <paper-input class=" paper-custom" type="number" value="{{patient.nationalIdCardNumber}}" label="National ID"></paper-input>
                    </div>

                    <div class="info-row break-on-tablet" hidden="">
                      <paper-input type="date" class="flex paper-custom" value="{{patient.patientInitialVisitDate}}" label="Initial Visit Date"></paper-input>
                      <paper-input type="date" class="flex paper-custom" value="{{patient.lastVisitDate}}" label="Last Visit Date"></paper-input>
                      <paper-input type="date" class="flex paper-custom" value="{{patient.admissionDate}}" label="Admission Date"></paper-input>
                    </div>

                    <!-- <div class="info-row">
                      <paper-input class="paper-custom" value="{{patient.doctorQuickNotes}}" label="Quick Notes (Kept Private)"></paper-input>
                    </div> -->

                  </div>
                </paper-card>
                <paper-card heading="Contact Address" class="m-top-8">
                  <div class="p-8">
                    <div class="horizontal layout">
                      <paper-input class="flex paper-custom" value="{{patient.addressList.0.addressLine1}}" label="Address Line 1"></paper-input>
                    </div>
                    <div class="horizontal layout">
                      <paper-input class="flex paper-custom" value="{{patient.addressList.0.addressLine2}}" label="Address Line 2"></paper-input>
                    </div>

                    <div class="horizontal layout wrap">
                      <!-- <paper-input class="flex paper-custom" value="{{patient.addressList.0.addressDivision}}" label="Division"></paper-input> -->

                      <paper-dropdown-menu class="paper-custom" label="Division" value="{{patient.addressList.0.addressDivision}}">
                        <paper-menu class="dropdown-content" on-iron-select="onDivisionChange" selected="{{divisionIndex}}">
                          <template is="dom-repeat" items="[[divisionList]]">
                            <paper-item>{{item.divisionName}}</paper-item>
                          </template>
                        </paper-menu>
                      </paper-dropdown-menu>

                      <template is="dom-if" if="[[!_isEmpty(districtList.length)]]">
                        <paper-dropdown-menu class="paper-custom" label="District" value="{{patient.addressList.0.addressDistrict}}">
                          <paper-menu class="dropdown-content" selected="[[districtIndex]]">
                            <template is="dom-repeat" items="[[districtList]]">
                              <paper-item>{{item}}</paper-item>
                            </template>
                          </paper-menu>
                        </paper-dropdown-menu>
                      </template>

                      <!-- <paper-input class="flex paper-custom" value="{{patient.addressList.0.addressDistrict}}" label="Disctrict"></paper-input> -->
                      <paper-input class="flex paper-custom" value="{{patient.addressList.0.subdistrictName}}" label="Thana/Sub Disctrict"></paper-input>
                      <paper-input class="flex paper-custom" value="{{patient.addressList.0.addressAreaName}}" label="Area"></paper-input>
                    </div>
                    <div class="horizontal layout end-justified p-8">
                      <paper-toggle-button class="m-left-16" checked="{{hideMoreAddressInput}}">More Address options</paper-toggle-button>
                    </div>

                    <div class="horizontal layout wrap" hidden$="[[!hideMoreAddressInput]]">
                      <paper-input class="flex paper-custom" value="{{patient.addressList.0.flat}}" label="Flat"></paper-input>
                      <paper-input class="flex paper-custom" value="{{patient.addressList.0.floor}}" label="Floor"></paper-input>
                      <paper-input class="flex paper-custom" value="{{patient.addressList.0.plot}}" label="Plot"></paper-input>
                    </div>

                    <div class="horizontal layout wrap" hidden$="[[!hideMoreAddressInput]]">
                      <paper-input class="flex paper-custom" value="{{patient.addressList.0.block}}" label="Block"></paper-input>
                      <paper-input class="flex paper-custom" value="{{patient.addressList.0.road}}" label="Road"></paper-input>
                      <paper-input class="flex paper-custom" value="{{patient.addressList.0.village}}" label="Village"></paper-input>
                    </div>
                    <div class="horizontal layout wrap" hidden$="[[!hideMoreAddressInput]]">
                      <paper-input class="flex paper-custom" value="{{patient.addressList.0.addressUnion}}" label="Union"></paper-input>

                      <paper-input type="number" class="flex paper-custom" value="{{patient.addressList.0.addressPostalOrZipCode}}" label="Postal/Zip Code"></paper-input>
                      <paper-input class="flex paper-custom" value="{{patient.addressList.0.addressCityOrTown}}" label="City/Town"></paper-input>

                      <paper-input class="flex paper-custom" value="{{patient.addressList.0.stateOrProvince}}" label="State/Province"></paper-input>
                    </div>

                    <paper-input readonly="true" class=" paper-custom" value="{{patient.addressList.0.addressCountry}}" label="Country"></paper-input>
                  </div>
                </paper-card>
                <paper-card heading="Marital Status" class="m-top-8">
                  <div class="p-8">
                    <div class="horizontal layout wrap">
                      <vaadin-combo-box class="flex paper-custom" label="Marital Age" placeholder="Type/Select Marital Age" items="{{maritalAgeList}}" allow-custom-value="true" value="{{patient.maritalAge}}"></vaadin-combo-box>

                      <paper-input type="number" class="flex paper-custom" value="{{patient.numberOfFamilyMember}}" label="Number of Family Member"></paper-input>
                      <paper-input type="number" class="flex paper-custom" value="{{patient.numberOfChildren}}" label="Number of children"></paper-input>
                    </div>

                  </div>
                </paper-card>
              </section>
            </template>
            <!-- Page - Personal - END -->

            <!-- Page - Medical - START -->
            <!-- <template is="dom-if" if="[[$equals(pcc.visitReason.type, 'Preconception')]]"> -->
            <section>
              <!-- card - Vaccination - start -->
              <paper-card>
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <!-- <paper-icon-button icon="icons:chevron-right"></paper-icon-button> -->
                    <div class="flex">
                      <div class="title">
                        <!-- <div class="type caption-2 secondary"><strong>STEP #3</strong></div> -->
                        <div>Medical</div>
                      </div>
                    </div>
                    <div class="horizontal layout">
                      <template is="dom-if" if="[[IS_NEW_PATIENT]]">
                        <paper-button class="btn-add" on-tap="backButton" raised="">
                          <iron-icon icon="arrow-back"></iron-icon>
                        </paper-button>
                        <paper-button class="btn-add colored" on-tap="nextButton" raised="">
                          <iron-icon class="m-right-8" icon="arrow-forward"></iron-icon>Next</paper-button>
                      </template>
                    </div>
                  </div>
                </div>
              </paper-card>

              <paper-card class="m-top-8">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">Vaccination</div>
                  </div>
                </div>

                <div class="p-8">

                  <div class="horizontal layout wrap">
                    <template is="dom-repeat" items="[[pcc.medicalInfo.vaccinationList]]">
                      <div class="custom-radio-button-group">
                        <div id="grpVaccination">
                          <strong>{{item.name}}:</strong>
                        </div>
                        <paper-radio-group aria-labelledby="grpVaccination" selected="{{item.value}}">
                          <paper-radio-button name="yes">Yes</paper-radio-button>
                          <paper-radio-button name="no">No</paper-radio-button>
                          <paper-radio-button name="unknown">Unknown</paper-radio-button>
                        </paper-radio-group>
                      </div>
                    </template>
                    <div class="horizontal layout center wrap">
                      <paper-input type="text " class="paper-custom" value="{{otherVaccine.name}}" label="Other">
                        <div class="type secondary" suffix=""></div>
                      </paper-input>
                      <div>
                        <paper-button class="btn-add colored" on-tap="addVaccine" raised="">
                          <iron-icon icon="add" class="m-right-8"></iron-icon>Add</paper-button>
                      </div>
                    </div>
                  </div>

                </div>
              </paper-card>
              <!-- card - Vaccination - end -->

              <!-- card - Others details - start -->
              <paper-card class="m-top-8">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">Others</div>
                  </div>
                </div>
                <div class="p-8">

                  <div class="horizontal layout wrap">
                    <div class="custom-radio-button-group">
                      <div id="grpPreviousPreconception">
                        <strong>Previous Preconception Care:</strong>
                      </div>
                      <paper-radio-group aria-labelledby="grpPreviousPreconception" selected="{{pcc.medicalInfo.didPreviousPreconceptionCare}}">
                        <paper-radio-button name="yes">Yes</paper-radio-button>
                        <paper-radio-button name="no">No</paper-radio-button>
                      </paper-radio-group>
                    </div>
                    <div class="custom-radio-button-group">
                      <div id="grpPreviousPreconception">
                        <strong>Have Family Planning?:</strong>
                      </div>
                      <paper-radio-group aria-labelledby="grpPreviousPreconception" selected="{{pcc.medicalInfo.familyPlanning.haveFamilyPlanning}}">
                        <paper-radio-button name="yes">Yes</paper-radio-button>
                        <paper-radio-button name="no">No</paper-radio-button>
                      </paper-radio-group>
                    </div>

                    <template is="dom-if" if="[[$equals(pcc.medicalInfo.familyPlanning.haveFamilyPlanning, 'yes')]]">
                      <vaadin-combo-box class="paper-custom" label="Methods of Family Planning" placeholder="Type/Select Methods" items="{{familyPlanningMethodList}}" allow-custom-value="true" value="{{pcc.medicalInfo.familyPlanning.methodsOfFamilyPlanning}}"></vaadin-combo-box>
                    </template>

                  </div>

                </div>
              </paper-card>
              <!-- card - Others details - end -->

              <!-- card - Addiction - start -->
              <paper-card class="m-top-8">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">Addiction</div>
                  </div>
                </div>

                <div class="p-8">

                  <div class="horizontal layout wrap">
                    <template is="dom-repeat" items="[[pcc.medicalInfo.drugAddictionList]]">
                      <div class="custom-radio-button-group">
                        <div id="grpVaccination">
                          <strong>{{item.type}}:</strong>
                        </div>
                        <paper-radio-group aria-labelledby="grpVaccination" selected="{{item.isYes}}">
                          <paper-radio-button name="yes">Yes</paper-radio-button>
                          <paper-radio-button name="no">No</paper-radio-button>
                        </paper-radio-group>
                        <template is="dom-if" if="[[$equals(item.isYes, 'yes')]]">
                          <paper-input label="Amount" value="{{item.amount}}"></paper-input>
                        </template>
                      </div>
                    </template>
                  </div>

                </div>
              </paper-card>
              <!-- card - Addiction - end -->

              <!-- card - physical activity - start -->
              <paper-card class="m-top-8">
                <div class="card-custom-header">
                  <div class="layout horizontal center wrap">
                    <div class="title flex">Physical activity</div>
                    <!-- <paper-toggle-button class="m-left-16" checked="{{showPhysicalActivity}}"></paper-toggle-button> -->
                  </div>

                </div>

                <div class="p-8">

                  <div class="horizontal layout center wrap">
                    <vaadin-combo-box class="flex paper-custom" label="Physical Activity" placeholder="Type/Select Activiy" items="[[physicalActivityPreList]]" allow-custom-value="true" value="{{physicalActivityObj.name}}"></vaadin-combo-box>
                    <paper-input type="number" class="paper-custom" value="{{physicalActivityObj.duration}}" label="Duration">
                      <div class="type secondary" suffix="">{{physicalActivityObj.unit}}</div>
                    </paper-input>
                    <div>
                      <paper-button class="btn-add colored" on-tap="addPhysicalActivity" raised="">
                        <iron-icon icon="add" class="m-right-8"></iron-icon>Add</paper-button>
                    </div>
                  </div>

                  <div class="horizontal layout wrap">
                    <template is="dom-repeat" items="[[pcc.physicalActivityList]]">
                      <div class="custom-label horizontal layout center">

                        <div class="flex">
                          <strong>{{item.name}}: </strong>
                          <span>{{item.duration}} {{item.unit}}</span>
                        </div>

                        <paper-icon-button icon="delete" on-tap="deletePhysicalActivity"></paper-icon-button>
                      </div>
                    </template>
                  </div>

                </div>
              </paper-card>
              <!-- card - physical activity - end -->

              <!-- card - other activity - start -->
              <paper-card class="m-top-8">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">Other activity</div>
                  </div>
                </div>
                <div class="p-8">
                  <div class="horizontal layout wrap">
                    <template is="dom-repeat" items="[[pcc.medicalInfo.otherActivityList]]">
                      <paper-input type="number" class="paper-custom" value="{{item.duration}}" label="{{item.name}}">
                        <div class="type secondary" suffix="">{{item.unit}}</div>
                      </paper-input>
                    </template>
                  </div>
                </div>
              </paper-card>
              <!-- card - other activity - end -->

              <!-- card - Dietary history - start -->
              <paper-card class="m-top-8">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">Dietary history</div>
                  </div>
                </div>
                <div>
                  <template id="dietary-list-repeater" is="dom-repeat" items="[[pcc.medicalInfo.dietaryHistoryList]]" as="dietItem">
                    <div class="layout horizontal center wrap custom-item">
                      <div class="type caption secondary m-right-8">[[_returnSerial(index)]]</div>
                      <div class="type body flex m-right-16">{{dietItem.type}}</div>
                      <template is="dom-repeat" items="[[dietItem.consumeAmount]]">
                        <paper-input class="m-horizontal-8" label="{{item.time}}" value="{{item.value}}" on-change="onDietaryItemValue">
                          <div class="type secondary" suffix="">{{item.unit}}</div>
                        </paper-input>
                      </template>
                    </div>
                  </template>
                </div>



                <div class="horizontal layout center wrap">
                  <paper-input class="paper-custom flex" value="{{otherDietItem.type}}" label="Other Item">
                    <div class="type secondary" suffix=""></div>
                  </paper-input>
                  <div>
                    <paper-button class="btn-add colored" on-tap="addDietItem" raised="">
                      <iron-icon icon="add" class="m-right-8"></iron-icon>Add</paper-button>
                  </div>
                </div>

              </paper-card>
              <!-- card - Dietary history - end -->

              <!-- card - Type of cooking oil - start -->
              <paper-card class="m-top-8">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">Type of cooking oil</div>
                  </div>
                </div>

                <div class="p-8">

                  <div class="horizontal layout wrap">
                    <template is="dom-repeat" items="[[pcc.medicalInfo.typeOfCookingOilList]]">
                      <div class="custom-radio-button-group">
                        <div id="grpVaccination">
                          <strong>{{item.type}}:</strong>
                        </div>
                        <paper-radio-group aria-labelledby="grpVaccination" selected="{{item.isYes}}" on-change="valueChanged">
                          <paper-radio-button name="yes">Yes</paper-radio-button>
                          <paper-radio-button name="no">No</paper-radio-button>
                        </paper-radio-group>
                        <template is="dom-if" if="[[$equals(item.isYes, 'yes')]]">
                          <paper-input label="Amount" value="{{item.amount}}">
                            <div class="type secondary" suffix="">{{item.unit}}/{{item.duration}}</div>
                          </paper-input>
                        </template>
                      </div>
                    </template>
                    <div class="horizontal layout center wrap">
                      <paper-input class="paper-custom" value="{{otherTypeOfCookingOil.type}}" label="Other">
                        <div class="type secondary" suffix=""></div>
                      </paper-input>
                      <div>
                        <paper-button class="btn-add colored" on-tap="addCookingOil" raised="">
                          <iron-icon icon="add" class="m-right-8"></iron-icon>Add</paper-button>
                      </div>
                    </div>
                  </div>

                </div>
              </paper-card>
              <!-- card - Type of cooking oil - end -->

              <!-- card - History of disease(s) - start -->
              <paper-card class="m-top-8">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">History of disease(s)</div>
                  </div>
                </div>

                <div class="p-8">

                  <div class="horizontal layout wrap">
                    <template is="dom-repeat" items="[[pcc.medicalInfo.historyOfDeseaseList]]">
                      <div class="custom-radio-button-group">
                        <div id="{{item.diseaseName}}">
                          <span class="type caption secondary m-right-8">[[_returnSerial(index)]]</span>
                          <strong>{{item.diseaseName}}:</strong>
                        </div>
                        <paper-radio-group aria-labelledby="{{item.diseaseName}}" selected="{{item.value}}">
                          <paper-radio-button name="yes">Yes</paper-radio-button>
                          <paper-radio-button name="no">No</paper-radio-button>
                          <paper-radio-button name="unknown">Unknown</paper-radio-button>
                        </paper-radio-group>
                      </div>
                    </template>
                    <div class="horizontal layout center wrap">
                      <paper-input class="paper-custom" value="{{historyDisease.diseaseName}}" label="Other">
                        <div class="type secondary" suffix=""></div>
                      </paper-input>
                      <div>
                        <paper-button class="btn-add colored" on-tap="addHistoryDisease" raised="">
                          <iron-icon icon="add" class="m-right-8"></iron-icon>Add</paper-button>
                      </div>
                    </div>
                  </div>

                </div>
              </paper-card>
              <!-- card - History of disease(s) - end -->

              <!-- card - History of Medication - start -->
              <paper-card class="m-top-8">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">History of Medication</div>
                  </div>
                </div>

                <div class="p-8">
                  <div class="horizontal layout wrap">
                    <template is="dom-repeat" items="[[pcc.medicalInfo.historyOfMedicationList]]">

                      <div class="custom-radio-button-group" hidden$="[[!checkForVisitId(item.forVisitReasonIdList)]]">
                        <div id="{{item.name}}">
                          <span class="type caption secondary m-right-8">[[_returnSerial(index)]]</span>
                          <strong>{{item.name}}:</strong>
                        </div>
                        <paper-radio-group aria-labelledby="{{item.name}}" selected="{{item.value}}">
                          <paper-radio-button name="yes">Yes</paper-radio-button>
                          <paper-radio-button name="no">No</paper-radio-button>

                          <template is="dom-if" if="[[$equals(item.value, 'yes')]]">

                            <template is="dom-if" if="[[$equals(item.name, 'On Insulin')]]">
                              <vaadin-combo-box class="flex" label="Type of Insulin" placeholder="Type/Select" items="{{onInsulinList}}" allow-custom-value="true" value="{{item.type}}"></vaadin-combo-box>
                              <vaadin-combo-box class="flex" label="Type of Device" placeholder="Type/Select" items="{{insulinDeviceList}}" allow-custom-value="true" value="{{item.typeOfDevice}}"></vaadin-combo-box>
                            </template>

                            <template is="dom-if" if="[[$equals(item.name, 'OADs')]]">
                              <vaadin-combo-box class="flex paper-custom" label="Type of OAD" placeholder="Type/Select" items="{{OADList}}" allow-custom-value="true" value="{{item.type}}"></vaadin-combo-box>
                            </template>

                            <template is="dom-if" if="[[$equals(item.name, 'Anti HTN')]]">
                              <vaadin-combo-box class="flex paper-custom" label="Type of Anti HTN" placeholder="Type/Select" items="{{antiHTNList}}" allow-custom-value="true" value="{{item.type}}"></vaadin-combo-box>
                            </template>
                            <template is="dom-if" if="[[$equals(item.name, 'Anti lipids')]]">
                              <vaadin-combo-box class="flex paper-custom" label="Type of Anti lipids" placeholder="Type/Select" items="{{antiLipidsList}}" allow-custom-value="true" value="{{item.type}}"></vaadin-combo-box>
                            </template>
                          </template>
                        </paper-radio-group>
                      </div>
                    </template>
                  </div>
                </div>
              </paper-card>
              <!-- card - History of Medication - end -->

              <!-- card - Family History - start -->
              <paper-card class="m-top-8">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">Family History</div>
                  </div>
                </div>

                <div class="p-8">

                  <div class="horizontal layout wrap">
                    <template is="dom-repeat" items="[[pcc.medicalInfo.familyHistoryList]]">
                      <div class="custom-radio-button-group">
                        <div id="{{item.disease}}">
                          <span class="type caption secondary m-right-8">[[_returnSerial(index)]]</span>
                          <strong>{{item.disease}}:</strong>
                        </div>
                        <paper-radio-group aria-labelledby="{{item.disease}}" selected="{{item.value}}">
                          <paper-radio-button name="yes">Yes</paper-radio-button>
                          <paper-radio-button name="no">No</paper-radio-button>
                          <paper-radio-button name="unknown">Unknown</paper-radio-button>
                        </paper-radio-group>
                      </div>
                    </template>

                    <div class="horizontal layout center wrap">
                      <paper-input class="paper-custom" value="{{otherFamilyHistoryDisease.disease}}" label="Other">
                        <div class="type secondary" suffix=""></div>
                      </paper-input>
                      <div>
                        <paper-button class="btn-add colored" on-tap="addFamilyHistoryDisease" raised="">
                          <iron-icon icon="add" class="m-right-8"></iron-icon>Add</paper-button>
                      </div>
                    </div>

                  </div>

                </div>
              </paper-card>
              <!-- card - Family History - end -->
            </section>
            <!-- </template> -->
            <!-- Page - Medical - END -->

            <!-- Page - Clinical - START -->
            <section>

              <paper-card>
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <!-- <paper-icon-button icon="icons:chevron-right"></paper-icon-button> -->
                    <div class="flex">
                      <div class="title">
                        <!-- <div class="type caption-2 secondary"><strong>STEP #4</strong></div> -->
                        <div>Clinical</div>
                      </div>
                    </div>

                    <div class="horizontal layout">
                      <template is="dom-if" if="[[IS_NEW_PATIENT]]">
                        <paper-button class="btn-add" on-tap="backButton" raised="">
                          <iron-icon class="" icon="arrow-back"></iron-icon>
                        </paper-button>
                        <paper-button class="btn-add colored" on-tap="nextButton" raised="">
                          <iron-icon class="m-right-8" icon="arrow-forward"></iron-icon>Next</paper-button>
                      </template>
                    </div>
                  </div>
                </div>
              </paper-card>


              <paper-card class="m-top-8" hidden$="[[$equals(pcc.visitReason.type, 'Preconception')]]">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">[[pregnancyTitle]]</div>
                  </div>
                </div>
                <div class="p-8">
                  <div class="horizontal layout wrap">
                    <vaadin-combo-box class="flex paper-custom" label="Glycemic Status" placeholder="Type/Select Status" items="{{glycemicStatusList}}" allow-custom-value="true" value="{{pcc.clinical.pregnancyInfo.glycemicStatus}}"></vaadin-combo-box>

                    <template is="dom-if" if="[[$equals(pcc.visitReason.type, '2nd ANC (24 - 28 weeks)')]]">
                      <paper-input class="flex paper-custom" value="{{pcc.clinical.pregnancyInfo.gestationalWeek}}" label="Gestational Week" float=""></paper-input>
                    </template>

                    <template is="dom-if" if="[[$equals(pcc.visitReason.type, '6 weeks after delivery')]]">
                      <paper-input class="flex paper-custom" value="{{pcc.clinical.pregnancyInfo.weeksAfterDelivery}}" label="Weeks After Delivery" float=""></paper-input>
                    </template>

                    <template is="dom-if" if="[[$equals(pcc.visitReason.type, '1 year after delivery')]]">
                      <paper-input class="flex paper-custom" value="{{pcc.clinical.pregnancyInfo.monthsAfterDelivery}}" label="Months After Delivery" float=""></paper-input>
                    </template>

                    <template is="dom-if" if="[[$equals(pcc.visitReason.type, '5 years after delivery')]]">
                      <paper-input class="flex paper-custom" value="{{pcc.clinical.pregnancyInfo.yearsAfterDelivery}}" label="Years After Delivery" float=""></paper-input>
                    </template>

                    <template is="dom-if" if="[[$equals(pcc.visitReason.type, '1st ANC (6 - 14 weeks)')]]">



                      <vaadin-combo-box class="flex paper-custom" label="Confirm pregnancy?" placeholder="Type/Select Value" items="{{confirmPregnancyList}}" allow-custom-value="true" value="{{pcc.clinical.pregnancyInfo.confirmPregnancyBy}}"></vaadin-combo-box>

                      <vaadin-date-picker class="flex paper-custom" type="date" value="{{pcc.clinical.pregnancyInfo.lmp}}" label="LMP" on-value-changed="calcEstimateEddDate"></vaadin-date-picker>

                      <vaadin-date-picker class="flex paper-custom" type="date" value="{{pcc.clinical.pregnancyInfo.edd}}" label="EDD" readonly="false"></vaadin-date-picker>


                      <vaadin-date-picker class="flex paper-custom" type="date" value="{{pcc.clinical.pregnancyInfo.nextVisitDate}}" label="Next Visit Date"></vaadin-date-picker>

                      <paper-input type="number" class="flex paper-custom" value="{{pcc.clinical.pregnancyInfo.gravida}}" label="Gravida"></paper-input>


                      <paper-input type="number" class="flex paper-custom" value="{{pcc.clinical.pregnancyInfo.para}}" label="Para"></paper-input>
                    </template>

                    <template is="dom-if" if="[[$equals(pcc.visitReason.type, '2nd ANC (24 - 28 weeks)')]]">
                      <div class="custom-radio-button-group">
                        <div>
                          <strong>Abortion</strong>
                        </div>
                        <paper-radio-group selected="{{pcc.clinical.pregnancyInfo.haveAbortion}}" on-change="abortionValueChange">
                          <paper-radio-button name="yes">Yes</paper-radio-button>
                          <paper-radio-button name="no">No</paper-radio-button>
                        </paper-radio-group>
                      </div>
                    </template>

                    <template is="dom-if" if="[[$equals(pcc.visitReason.type, '2nd ANC (24 - 28 weeks)')]]">
                      <div class="custom-radio-button-group">
                        <div>
                          <strong>Oedema</strong>
                        </div>
                        <paper-radio-group selected="{{pcc.clinical.pregnancyInfo.odema}}">
                          <paper-radio-button name="yes">Yes</paper-radio-button>
                          <paper-radio-button name="no">No</paper-radio-button>
                        </paper-radio-group>
                      </div>
                    </template>

                  </div>
                </div>
              </paper-card>

              <div hidden$="[[$equals(pcc.visitReason.type, 'At Delivery')]]">
                <paper-card class="m-top-8" hidden$="[[hideClinicalPart]]">
                  <div class="card-custom-header">
                    <div class="layout horizontal center">
                      <div class="title flex">Clinical Examination (Mother)</div>
                    </div>
                  </div>
                  <div class="p-8 horizontal layout wrap">
                    <template is="dom-if" if="[[_compareFn(bmi.results, '>', 0)]]">
                      <div class$="custom-label-2 {{bmi.class}} horizontal layout center">
                        <div class="flex">
                          <div class="type body-lead">
                            <strong>BMI: </strong>{{bmi.results}}</div>
                          <div class="type body">{{bmi.classification}}</div>
                        </div>
                        <!-- <paper-icon-button icon="close" on-tap="hideBmiData"></paper-icon-button> -->
                      </div>
                    </template>
                    <template is="dom-if" if="[[_compareFn(idealWeight, '>', 0)]]">
                      <div class="custom-label-2 normal horizontal layout center">
                        <div class="flex">
                          <span class="type body-lead">
                            <strong>Ideal Weight: </strong>{{idealWeight}}Kg</span>
                        </div>
                        <!-- <paper-icon-button icon="close" on-tap="hideIdealWeight"></paper-icon-button> -->
                      </div>
                    </template>
                    <template is="dom-if" if="[[_compareFn(bmi.results, '>', 0)]]">
                      <template is="dom-if" if="[[_compareFn(estimateCaloriesIntake, '>', 0)]]">
                        <div class="custom-label-2 normal horizontal layout center">
                          <div class="flex">
                            <div class="type body-lead">
                              <strong>Calorie: </strong>{{estimateCaloriesIntake}}</div>
                          </div>
                          <!-- <paper-icon-button icon="close" on-tap="hideHypertension"></paper-icon-button> -->
                        </div>
                      </template>
                    </template>
                    <template is="dom-if" if="[[_compareFn(bmi.results, '>', 0)]]">
                      <template is="dom-if" if="[[!_compareFn(foodChartName, '==', '')]]">
                        <div class="custom-label-2 normal horizontal layout center">
                          <div class="flex">
                            <div class="type body-lead">
                              <strong>Food Chart: </strong>See "{{foodChartName}}"</div>
                          </div>
                          <!-- <paper-icon-button icon="close" on-tap="hideHypertension"></paper-icon-button> -->
                        </div>
                      </template>
                    </template>
                    <template is="dom-if" if="[[_compareFn(patientWaistValue, '>', 0)]]">
                      <div class$="custom-label-2 {{waistHipRatio.class}} horizontal layout center">
                        <div class="flex">
                          <div class="type body-lead">
                            <strong>Waist-Hip Ratio: </strong>{{waistHipRatio.value}}</div>
                          <div class="type body">
                            <strong>Comment: </strong>{{waistHipRatio.comment}}</div>
                        </div>
                        <!-- <paper-icon-button icon="close" on-tap="hideWaistHipRatio"></paper-icon-button> -->
                      </div>
                    </template>

                    <template is="dom-if" if="[[!_compareFn(hypertension.type, '==', '')]]">
                      <div class$="custom-label-2 {{hypertension.class}} horizontal layout center">
                        <div class="flex">
                          <div class="type body-lead">
                            <strong>Hypertension Type: </strong>{{hypertension.type}}, </div>
                          <div class="type body">
                            <strong>Comment: </strong>{{hypertension.comment}}</div>
                        </div>
                        <!-- <paper-icon-button icon="close" on-tap="hideHypertension"></paper-icon-button> -->
                      </div>
                    </template>

                  </div>
                  <div class="p-8">
                    <div class="horizontal layout wrap">
                      <template is="dom-repeat" items="[[pcc.clinical.clinicalExaminationList]]">
                        <paper-input class="flex paper-custom" type="{{item.inputType}}" value="{{item.value}}" label="{{item.type}}" on-change="computeClinicalData">
                          <div class="type secondary" suffix="">{{item.unit}}</div>
                        </paper-input>
                      </template>

                      <template is="dom-if" if="[[$equals(pcc.visitReason.type, '1 year after delivery')]]">
                        <paper-input class="flex paper-custom" type="number" value="{{pcc.clinical.inputType}}" label="MUAC">
                          <div class="type secondary" suffix=""></div>
                        </paper-input>
                      </template>

                      <template is="dom-if" if="[[$equals(pcc.visitReason.type, '5 years after delivery')]]">
                        <paper-input class="flex paper-custom" type="number" value="{{pcc.clinical.inputType}}" label="MUAC">
                          <div class="type secondary" suffix=""></div>
                        </paper-input>
                      </template>
                    </div>
                  </div>
                </paper-card>
              </div>

              <paper-card class="m-top-8" hidden$="[[hideChildExamination]]">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">Child examination</div>
                  </div>
                </div>
                <div class="p-8">
                  <div class="horizontal layout wrap">
                    <template is="dom-repeat" items="[[pcc.childExamination.examinationList]]">
                      <paper-input class="flex paper-custom" type="{{item.inputType}}" value="{{item.value}}" label="{{item.type}}" on-change="computeClinicalData">
                        <div class="type secondary" suffix="">{{item.unit}}</div>
                      </paper-input>
                    </template>
                  </div>
                </div>
              </paper-card>




              <!-- <paper-card class="m-top-8" hidden$="[[$equals(pcc.visitReason.type, 'Preconception')]]">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">Clinical Examination(child)</div>
                  </div>
                </div>
                <div class="p-8 horizontal layout wrap">
                  <paper-input class="flex paper-custom" value="" label="Height" float></paper-input>
                  <paper-input class="flex paper-custom" value="" label="Weight" float></paper-input>
                  <paper-input class="flex paper-custom" value="" label="MUAC" float></paper-input>
                </div>
              </paper-card> -->

              <template is="dom-if" if="[[$equals(pcc.visitReason.type, 'At Delivery')]]">
                <paper-card class="m-top-8">
                  <div class="card-custom-header">
                    <div class="layout horizontal center">
                      <div class="title flex">Birth information</div>
                    </div>
                  </div>
                  <div class="p-8 horizontal layout wrap">

                    <template is="dom-repeat" items="[[pcc.clinical.birthInfo.list]]">

                      <div class="custom-radio-button-group" hidden$="[[!$equals(item.inputType, 'radio-button-group')]]">
                        <div>
                          <strong>{{item.type}}</strong>
                        </div>
                        <paper-radio-group selected="{{item.value}}" on-change="computeLabData">
                          <template is="dom-repeat" items="[[item.preList]]" as="choice">
                            <paper-radio-button name="{{choice}}">{{choice}}</paper-radio-button>
                          </template>
                        </paper-radio-group>
                      </div>

                      <paper-input class="flex paper-custom" type="{{item.inputType}}" value="{{item.value}}" label="{{item.type}}" on-change="computeLabData" hidden$="[[!$equals(item.inputType, 'text')]]">
                        <div class="type secondary" suffix="">{{item.unit}}</div>
                      </paper-input>

                      <vaadin-combo-box class="flex paper-custom" label="Value" placeholder="Type/Select" items="{{item.preList}}" allow-custom-value="true" value="{{item.value}}" hidden$="[[!$equals(item.inputType, 'combo-box')]]"></vaadin-combo-box>
                    </template>

                  </div>
                </paper-card>
              </template>

              <paper-card class="m-top-8" hidden$="[[$equals(pcc.visitReason.type, 'At Delivery')]]">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">Laboratory Reports</div>
                  </div>
                </div>

                <div class="p-8 horizontal layout wrap">


                  <template is="dom-if" if="[[!_compareFn(glycemiaType.value, '==', '')]]">
                    <div class$="custom-label-2 {{glycemiaType.class}} horizontal layout center" hidden="[[$equals(pcc.clinical.pregnancyInfo.glycemicStatus, 'Known Diabetes')]]">
                      <div class="flex">
                        <span class="type body-lead">{{glycemiaType.value}}</span>
                      </div>
                      <!-- <paper-icon-button icon="close" on-tap="hideAlbuminType"></paper-icon-button> -->
                    </div>
                  </template>

                  <template is="dom-if" if="[[!_compareFn(glycemiaTypeAdditionalMsg.value, '==', '')]]">
                    <div class$="custom-label-2 {{glycemiaTypeAdditionalMsg.class}} horizontal layout center">
                      <div class="flex">
                        <span class="type body-lead">{{glycemiaTypeAdditionalMsg.value}}</span>
                      </div>
                      <!-- <paper-icon-button icon="close" on-tap="hideAlbuminType"></paper-icon-button> -->
                    </div>
                  </template>

                  <template is="dom-if" if="[[!_compareFn(albuminType, '==', '')]]">
                    <div class="custom-label-2 warning horizontal layout center">
                      <div class="flex">
                        <span class="type body-lead">You have {{albuminType}}</span>
                      </div>
                    </div>
                  </template>

                  <template is="dom-if" if="[[!_compareFn(urinePusCellStatus, '==', '')]]">
                    <div class="custom-label-2 warning horizontal layout center">
                      <div class="flex">
                        <span class="type body-lead">You have {{urinePusCellStatus}}</span>
                      </div>
                    </div>
                  </template>

                  <template is="dom-if" if="[[!_compareFn(hbStatus, '==', '')]]">
                    <div class="custom-label-2 warning horizontal layout center">
                      <div class="flex">
                        <span class="type body-lead">You have {{hbStatus}}</span>
                      </div>
                    </div>
                  </template>
                  <div hidden$="[[$equals(pcc.visitReason.type, '2nd ANC (24 - 28 weeks)')]]">
                    <template is="dom-if" if="[[!_compareFn(hBsAgStatus, '==', '')]]">
                      <div class="custom-label-2 warning horizontal layout center">
                        <div class="flex">
                          <span class="type body-lead">{{hBsAgStatus}}</span>
                        </div>
                      </div>
                    </template>

                    <template is="dom-if" if="[[!_compareFn(vdrlStatus, '==', '')]]">
                      <div class="custom-label-2 warning horizontal layout center">
                        <div class="flex">
                          <span class="type body-lead">{{vdrlStatus}}</span>
                        </div>
                      </div>
                    </template>
                  </div>

                  <!-- <template is="dom-if" if="[[!_compareFn(usgReport, '==', '')]]">
                    <div class="custom-label-2 horizontal layout center">
                      <div class="flex">
                        <span class="type body-lead">{{usgReport}}</span>
                      </div>
                    </div>
                  </template> -->


                </div>

                <div class="p-8">

                  <div class="horizontal layout wrap">
                    <template is="dom-repeat" items="[[pcc.clinical.labReportsList]]">


                      <paper-input class="flex paper-custom" type="{{item.inputType}}" value="{{item.value}}" label="{{item.type}}" on-change="computeLabData" hidden$="[[!$equals(item.inputType, 'number')]]">
                        <div class="type secondary" suffix="">{{item.unit}}</div>
                      </paper-input>

                      <paper-dropdown-menu class="paper-custom" label="{{item.type}}" value="{{item.value}}" hidden$="[[!$equals(item.inputType, 'drop-down-menu')]]">
                        <paper-menu class="dropdown-content" selected="[[bloodGroupIndex]]">
                          <template is="dom-repeat" items="[[bloodGroupList]]">
                            <paper-item>{{item}}</paper-item>
                          </template>
                        </paper-menu>
                      </paper-dropdown-menu>

                      <div class="custom-radio-button-group" hidden$="[[!$equals(item.inputType, 'radio-button-group')]]">
                        <div>
                          <strong>{{item.type}}</strong>
                        </div>
                        <paper-radio-group selected="{{item.value}}" on-change="computeLabData">
                          <template is="dom-repeat" items="[[item.preList]]" as="choice">
                            <paper-radio-button name="{{choice}}">{{choice}}</paper-radio-button>
                          </template>
                        </paper-radio-group>
                      </div>
                    </template>
                  </div>

                  <template is="dom-if" if="[[!$equals(pcc.visitReason.type, 'Preconception')]]">
                    <div class="horizontal layout wrap">
                      <template is="dom-repeat" items="[[pcc.clinical.labReportsOtherList]]">


                        <paper-input class="flex paper-custom" type="{{item.inputType}}" value="{{item.value}}" label="{{item.type}}" on-change="computeLabData" hidden$="[[!$equals(item.inputType, 'number')]]">
                          <div class="type secondary" suffix="">{{item.unit}}</div>
                        </paper-input>

                        <div class="custom-radio-button-group" hidden$="[[!$equals(item.inputType, 'radio-button-group')]]">
                          <div>
                            <strong>{{item.type}}</strong>
                          </div>
                          <paper-radio-group selected="{{item.value}}" on-change="computeLabData">
                            <template is="dom-repeat" items="[[item.preList]]" as="choice">
                              <paper-radio-button name="{{choice}}">{{choice}}</paper-radio-button>
                            </template>
                          </paper-radio-group>
                        </div>
                      </template>
                    </div>
                  </template>
                  

                  <!-- <div class="horizontal layout wrap" hidden$="[[!$equals(pcc.visitReason.type, '1st ANC (6 - 14 weeks)')]]">
                    <template is="dom-repeat" items="[[pcc.clinical.labReportsOtherList]]">


                      <paper-input class="flex paper-custom" type="{{item.inputType}}" value="{{item.value}}" label="{{item.type}}" on-change="computeLabData"
                        hidden$="[[!$equals(item.inputType, 'number')]]">
                        <div class="type secondary" suffix>{{item.unit}}</div>
                      </paper-input>

                      <div class="custom-radio-button-group" hidden$="[[!$equals(item.inputType, 'radio-button-group')]]">
                        <div>
                          <strong>{{item.type}}</strong>
                        </div>
                        <paper-radio-group selected="{{item.value}}" on-change="computeLabData">
                          <template is="dom-repeat" items="[[item.preList]]" as="choice">
                            <paper-radio-button name="{{choice}}">{{choice}}</paper-radio-button>
                          </template>
                        </paper-radio-group>
                      </div>
                    </template>
                  </div> -->
                </div>
              </paper-card>

              <template is="dom-if" if="[[$equals(pcc.visitReason.type, 'At Delivery')]]">
                <paper-card class="m-top-8">
                  <div class="card-custom-header">
                    <div class="layout horizontal center">
                      <div class="title flex">Child History</div>
                    </div>
                  </div>
                  <paper-listbox>
                    <template is="dom-repeat" items="[[pcc.clinical.childHistory]]">
                      <paper-item stop-keyboard-event-propagation="true" class="custom layout horizontal center">
                        <div class="type caption secondary m-right-8">[[_returnSerial(index)]]</div>
                        <div class="type body flex m-right-16">{{item.type}}</div>
                        <template is="dom-repeat" items="[[item.atBirthAndComments]]">
                          <paper-input class="m-horizontal-8" label="{{item.name}}" value="{{item.value}}" on-change="onDietaryItemValue">
                            <div class="type secondary" suffix=""></div>
                          </paper-input>
                        </template>
                      </paper-item>
                    </template>
                  </paper-listbox>
                </paper-card>

                <paper-card class="m-top-8">
                  <div class="card-custom-header">
                    <div class="layout horizontal center">
                      <div class="title flex">Mother History</div>
                    </div>
                  </div>
                  <div class="p-8 horizontal layout wrap">
                    <div class="custom-radio-button-group">
                      <div>
                        <strong>Preclampsia</strong>
                      </div>
                      <paper-radio-group aria-labelledby="Abortion">
                        <paper-radio-button>Yes</paper-radio-button>
                        <paper-radio-button>No</paper-radio-button>
                      </paper-radio-group>
                    </div>

                    <div class="custom-radio-button-group">
                      <div>
                        <strong>Eclampsia</strong>
                      </div>
                      <paper-radio-group aria-labelledby="Abortion">
                        <paper-radio-button>Yes</paper-radio-button>
                        <paper-radio-button>No</paper-radio-button>
                      </paper-radio-group>
                    </div>

                    <div class="custom-radio-button-group">
                      <div>
                        <strong>Breast Feeding</strong>
                      </div>
                      <paper-radio-group aria-labelledby="Abortion">
                        <paper-radio-button>Yes</paper-radio-button>
                        <paper-radio-button>No</paper-radio-button>
                      </paper-radio-group>
                    </div>

                    <div class="custom-radio-button-group">
                      <div>
                        <strong>PIH</strong>
                      </div>
                      <paper-radio-group aria-labelledby="Abortion">
                        <paper-radio-button>Yes</paper-radio-button>
                        <paper-radio-button>No</paper-radio-button>
                      </paper-radio-group>
                    </div>
                  </div>
                </paper-card>
              </template>
            </section>
            <!-- Page - Clinical - END -->

            <!-- Page - Questionnaire - START -->
            <template is="dom-if" if="[[IS_NEW_PATIENT]]">
              <section>

                <!-- card - Questionnaire - start -->
                <paper-card>
                  <div class="card-custom-header">
                    <div class="layout horizontal center">
                      <!-- <paper-icon-button icon="icons:chevron-right"></paper-icon-button> -->
                      <div class="flex">
                        <div class="title">
                          <!-- <div class="type caption-2 secondary"><strong>STEP #5</strong></div> -->
                          <div>Questionnaire</div>
                        </div>
                      </div>
                      <div class="horizontal layout">
                        <template is="dom-if" if="[[IS_NEW_PATIENT]]">
                          <paper-button class="btn-add" on-tap="backButton" raised="">
                            <iron-icon class="" icon="arrow-back"></iron-icon>
                          </paper-button>
                          <paper-button class="btn-add colored" on-tap="nextButton" raised="">
                            <iron-icon class="m-right-8" icon="arrow-forward"></iron-icon>Next</paper-button>
                        </template>
                      </div>
                    </div>
                  </div>
                </paper-card>

                <paper-card class="m-top-8">

                  <div>
                    <template is="dom-repeat" items="[[pccOthers.questionList]]">
                      <div class="custom-label full-width horizontal layout center">
                        <div class="type caption secondary m-right-8">[[_returnSerial(index)]]</div>
                        <div class="flex">
                          <div class="type body" style="width: 100%; text-align: justify;">
                            <div>{{item.question.en}}</div>
                            <div class="body caption-2">{{item.question.bd}}</div>
                          </div>
                          <paper-radio-group selected="{{item.value}}">
                            <paper-radio-button name="Agree">Agree</paper-radio-button>
                            <paper-radio-button name="Disagree">Disagree</paper-radio-button>
                            <paper-radio-button name="Not Sure">Not Sure</paper-radio-button>
                          </paper-radio-group>
                        </div>
                      </div>

                    </template>
                  </div>


                </paper-card>
                <!-- card - Questionnaire - end -->
              </section>
            </template>
            <!-- Page - Questionnaire - END -->

            <!-- Page - Medical Information - START -->
            <section>

              <!-- card - Medical Management - start -->
              <paper-card>
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <!-- <paper-icon-button icon="icons:chevron-right"></paper-icon-button> -->
                    <div class="flex">
                      <div class="title">
                        <!-- <div class="type caption-2 secondary"><strong>STEP #6</strong></div> -->
                        <div>Medical Information</div>
                      </div>
                    </div>

                    <div class="horizontal layout">
                      <template is="dom-if" if="[[IS_NEW_PATIENT]]">
                        <paper-button class="btn-add" on-tap="backButton" raised="">
                          <iron-icon class="" icon="arrow-back"></iron-icon>
                        </paper-button>
                        <paper-button class="btn-add colored" on-tap="nextButton" raised="">
                          <iron-icon class="m-right-8" icon="arrow-forward"></iron-icon>Next</paper-button>
                      </template>
                    </div>
                  </div>
                </div>
              </paper-card>
              <paper-card class="m-top-8">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">Medical Management</div>
                  </div>
                </div>
                <div class="p-8">
                  <div class="custom-radio-button-group">
                    <paper-radio-group selected="{{pcc.medicalManagement.lifeStyleType}}">
                      <paper-radio-button name="Lifestyle">Lifestyle</paper-radio-button>
                      <paper-radio-button name="Medication">Medication</paper-radio-button>
                    </paper-radio-group>
                  </div>
                </div>
              </paper-card>

              <div hidden$="[[!$equals(pcc.medicalManagement.lifeStyleType, 'Medication')]]">
                <template is="dom-if" if="[[$equals(pcc.visitReason.type, '1st ANC (6 - 14 weeks)')]]">
                  <paper-card class="m-top-8">
                    <div class="card-custom-header">
                      <div class="layout horizontal center">
                        <div class="title flex">Medication related to pregnancy</div>
                      </div>
                    </div>

                    <div class="p-8 horizontal layout wrap">
                      <template is="dom-repeat" items="[[pcc.medicalManagement.medicationRelatedToPregnancyFro1stANC]]">
                        <div class="custom-radio-button-group">
                          <div>
                            <strong>{{item.type}}</strong>
                          </div>
                          <paper-radio-group selected="{{item.value}}">
                            <paper-radio-button name="yes">Yes</paper-radio-button>
                            <paper-radio-button name="no">No</paper-radio-button>
                          </paper-radio-group>
                        </div>
                      </template>
                    </div>
                  </paper-card>
                </template>

                <template is="dom-if" if="[[$equals(pcc.visitReason.type, '2nd ANC (24 - 28 weeks)')]]">
                  <paper-card class="m-top-8">
                    <div class="card-custom-header">
                      <div class="layout horizontal center">
                        <div class="title flex">Medication related to pregnancy</div>
                      </div>
                    </div>
                    <div class="p-8 horizontal layout wrap">
                      <template is="dom-repeat" items="[[pcc.medicalManagement.medicationRelatedToPregnancy]]">
                        <div class="custom-radio-button-group">
                          <div>
                            <strong>{{item.type}}</strong>
                          </div>
                          <paper-radio-group selected="{{item.value}}">
                            <paper-radio-button name="yes">Yes</paper-radio-button>
                            <paper-radio-button name="no">No</paper-radio-button>
                          </paper-radio-group>
                        </div>
                      </template>
                    </div>
                  </paper-card>
                </template>
              </div>

              <template is="dom-if" if="[[$equals(pcc.visitReason.type, '1st ANC (6 - 14 weeks)')]]">
                <paper-card class="m-top-8">
                  <div class="card-custom-header">
                    <div class="layout horizontal center">
                      <div class="title flex">Hyperglycemia of pregnancy</div>
                      <template is="dom-if" if="[[$equals(pcc.medicalManagement.hyperglycemiaOfPregnancy.instruction, 'Both lifestyle change &amp; insulin')]]">
                        <paper-button on-tap="addAnotherHyperglycemiaDrug" class="btn-add colored" raised="">Add Another Drug</paper-button>
                      </template>
                    </div>
                  </div>
                  <div class="p-8 horizontal layout wrap">
                    <div class="custom-radio-button-group">
                      <div>
                        <strong>Hyperglycemia of pregnancy</strong>
                      </div>
                      <paper-radio-group selected="{{pcc.medicalManagement.hyperglycemiaOfPregnancy.instruction}}">
                        <paper-radio-button name="Only lifestyle change">Only lifestyle change</paper-radio-button>
                        <paper-radio-button name="Both lifestyle change &amp; insulin">Both lifestyle change &amp; insulin</paper-radio-button>
                      </paper-radio-group>
                    </div>
                    <template is="dom-if" if="[[$equals(pcc.medicalManagement.hyperglycemiaOfPregnancy.instruction, 'Both lifestyle change &amp; insulin')]]">
                      <template is="dom-repeat" items="[[pcc.medicalManagement.hyperglycemiaOfPregnancy.drugList]]">
                        <div class="horizontal layout center">
                          <vaadin-combo-box class="flex paper-custom" label="Add Drug" placeholder="Type/Select" items="{{hyperglycemiaOfPregnancyValueList}}" allow-custom-value="true" value="{{item.name}}"></vaadin-combo-box>
                          <paper-icon-button icon="delete" on-tap="deleteHyperglycemiaDrug"></paper-icon-button>
                        </div>

                      </template>
                    </template>
                  </div>
                </paper-card>
              </template>

              <template is="dom-if" if="[[$equals(pcc.visitReason.type, '2nd ANC (24 - 28 weeks)')]]">
                <paper-card class="m-top-8">
                  <div class="card-custom-header">
                    <div class="layout horizontal center">
                      <div class="title flex">Hyperglycemia of pregnancy</div>
                      <template is="dom-if" if="[[$equals(pcc.medicalManagement.hyperglycemiaOfPregnancy.instruction, 'Both lifestyle change &amp; insulin')]]">
                        <paper-button on-tap="addAnotherHyperglycemiaDrug" class="btn-add colored" raised="">Add Another Drug</paper-button>
                      </template>
                    </div>
                  </div>
                  <div class="p-8 horizontal layout wrap">
                    <div class="custom-radio-button-group">
                      <div>
                        <strong>Hyperglycemia of pregnancy</strong>
                      </div>
                      <paper-radio-group selected="{{pcc.medicalManagement.hyperglycemiaOfPregnancy.instruction}}">
                        <paper-radio-button name="Only lifestyle change">Only lifestyle change</paper-radio-button>
                        <paper-radio-button name="Both lifestyle change &amp; insulin">Both lifestyle change &amp; insulin</paper-radio-button>
                      </paper-radio-group>
                    </div>
                    <template is="dom-if" if="[[$equals(pcc.medicalManagement.hyperglycemiaOfPregnancy.instruction, 'Both lifestyle change &amp; insulin')]]">
                      <template is="dom-repeat" items="[[pcc.medicalManagement.hyperglycemiaOfPregnancy.drugList]]">
                        <div class="horizontal layout center">
                          <vaadin-combo-box class="flex paper-custom" label="Add Drug" placeholder="Type/Select" items="{{hyperglycemiaOfPregnancyValueList}}" allow-custom-value="true" value="{{item.name}}"></vaadin-combo-box>
                          <paper-icon-button icon="delete" on-tap="deleteHyperglycemiaDrug"></paper-icon-button>
                        </div>

                      </template>
                    </template>
                  </div>
                </paper-card>
              </template>



              <!-- card - Medical Management - end -->


              <template is="dom-if" if="[[$equals(pcc.medicalManagement.lifeStyleType, 'Medication')]]">
                <template is="dom-repeat" items="[[pcc.medicalManagement.medicationList]]" as="medicine">
                  <paper-card class="m-top-8">
                    <div class="card-custom-header">
                      <div class="layout horizontal center">
                        <div class="title flex">{{medicine.type}}</div>
                      </div>
                    </div>
                    <div class="p-8">
                      <div class="horizontal layout wrap">
                        <template is="dom-repeat" items="[[medicine.list]]">
                          <div class="custom-radio-button-group full-width">
                            <div class="horizontal layout center">
                              <div>
                                <strong>{{item.name}}:</strong>
                              </div>
                              <paper-radio-group selected="{{item.isYes}}">
                                <paper-radio-button name="yes">Yes</paper-radio-button>
                                <paper-radio-button name="no">No</paper-radio-button>
                              </paper-radio-group>

                            </div>

                            <div hidden$="[[!$equals(item.isYes, 'yes')]]">

                              <template is="dom-if" if="[[$equals(item.name, 'OADs')]]">
                                <vaadin-combo-box class="flex" label="Type of OAD" placeholder="Type/Select" items="{{OADList}}" allow-custom-value="true" value="{{item.value}}"></vaadin-combo-box>
                              </template>

                              <template is="dom-if" if="[[$equals(item.name, 'On insulin')]]">
                                <vaadin-combo-box class="flex" label="Type of Insulin" placeholder="Type/Select" items="{{onInsulinList}}" allow-custom-value="true" value="{{item.value}}"></vaadin-combo-box>
                                <vaadin-combo-box class="flex" label="Type of Device" placeholder="Type/Select" items="{{insulinDeviceList}}" allow-custom-value="true" value="{{item.typeOfDevice}}"></vaadin-combo-box>
                              </template>

                              <div>
                                <template is="dom-repeat" items="[[item.medicineList]]" as="medicine" index-as="medicineIndex">
                                  <div class="horizontal layout center">
                                    <div class="m-right-8 type caption secondary">{{_returnSerial(medicineIndex)}}.</div>
                                    <paper-input class="flex m-horizontal-8" label="Name" value="{{medicine.name}}"></paper-input>
                                    <paper-input type="number" class="m-horizontal-8" label="Dose" value="{{medicine.dose}}">
                                      <div class="type secondary" suffix="">{{medicine.unit}}</div>
                                    </paper-input>
                                  </div>
                                </template>
                              </div>

                              <div class="horizontal layout center end-justified" hidden$="[[item.hideAddButton]]">
                                <paper-button raised="" class="btn-add default" on-tap="addMedicine">Add Another Medicine</paper-button>
                              </div>


                              <!-- <template is="dom-if" if="[[$equals(item.name, 'Anti HTN')]]">
                                <vaadin-combo-box class="flex" label="Type of Anti HTN" placeholder="Type/Select" items="{{antiHTNList}}" allow-custom-value="true"
                                  value="{{item.value}}"></vaadin-combo-box>
                              </template> -->

                              <!-- <template is="dom-if" if="[[$equals(item.name, 'Anti lipids')]]">
                                <vaadin-combo-box class="flex" label="Type of Anti lipids" placeholder="Type/Select" items="{{antiLipidsList}}" allow-custom-value="true"
                                  value="{{item.value}}"></vaadin-combo-box>
                              </template> -->
                            </div>
                          </div>
                        </template>
                      </div>
                    </div>
                  </paper-card>
                </template>
              </template>
            </section>
            <!-- Page - Medical Information - END -->

            <!-- Page - Complete - START -->
            <section>
              <paper-card>
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <!-- <paper-icon-button icon="icons:chevron-right"></paper-icon-button> -->
                    <div class="flex">
                      <div class="title">
                        <!-- <div class="type caption-2 secondary"><strong>STEP #Final</strong></div> -->
                        <div>Complete</div>
                      </div>
                    </div>

                    <div class="horizontal layout">
                      <template is="dom-if" if="[[IS_NEW_PATIENT]]">
                        <paper-button class="btn-add" on-tap="backButton" raised="">
                          <iron-icon class="" icon="arrow-back"></iron-icon>
                        </paper-button>
                      </template>
                      <template is="dom-if" if="[[!EDIT_MODE_ON]]">
                        <paper-button class="btn-add" raised="" on-tap="pccPatientOfflineSignupPressed">
                          <iron-icon class="m-right-8" icon="icons:cloud-off"></iron-icon>Submit (offline)
                        </paper-button>

                        <paper-button class="btn-add btn btn-success" raised="" on-tap="pccPatientSignupPressed">
                          <iron-icon class="m-right-8" icon="icons:cloud-queue"></iron-icon>Submit (online)
                        </paper-button>

                      </template>

                      <!-- <template is="dom-if" if="[[EDIT_MODE_ON]]">
                        <paper-button class="colored" raised on-tap="updatePatientDetails"><iron-icon class="m-right-8" icon="icons:check"></iron-icon>Update</paper-button>
                      </template> -->

                      <template is="dom-if" if="[[!IS_NEW_PATIENT]]">
                        <paper-button class="colored" raised="" on-tap="upsertPccRecord">
                          <iron-icon class="m-right-8" icon="icons:save"></iron-icon>Save PCC Record</paper-button>
                      </template>
                    </div>
                  </div>

                  <template is="dom-if" if="[[_compareFn(orgSmsBalance, '==', 0)]]">
                    <div class="m-top-8 type caption-2 warning" hidden$=""><strong>Your SMS Balance is [[orgSmsBalance]] (zero). Patient will not get any SMS!</strong></div>
                    <div class="m-top-8 type caption-2" hidden$=""><strong>Instruction:</strong> go to 'My Wallet &gt; Buy Bulk SMS' in order to purchase SMS.</div>
                  </template>
                  
                </div>
              </paper-card>

              <paper-card class="m-top-8">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">Health Results</div>
                  </div>
                </div>

                <div class="card-content horizontal layout wrap">
                  <template is="dom-if" if="[[_compareFn(bmi.results, '>', 0)]]">
                    <div class$="custom-label-2 {{bmi.class}} horizontal layout center">
                      <div class="flex">
                        <div class="type body-lead">
                          <strong>BMI: </strong>{{bmi.results}}</div>
                        <div class="type body">{{bmi.classification}}</div>
                      </div>
                      <!-- <paper-icon-button icon="close" on-tap="hideBmiData"></paper-icon-button> -->
                    </div>
                  </template>
                  <template is="dom-if" if="[[_compareFn(idealWeight, '>', 0)]]">
                    <div class="custom-label-2 normal horizontal layout center">
                      <div class="flex">
                        <span class="type body-lead">
                          <strong>Ideal Weight: </strong>{{idealWeight}}Kg</span>
                      </div>
                      <!-- <paper-icon-button icon="close" on-tap="hideIdealWeight"></paper-icon-button> -->
                    </div>
                  </template>
                  <template is="dom-if" if="[[_compareFn(bmi.results, '>', 0)]]">
                    <template is="dom-if" if="[[_compareFn(estimateCaloriesIntake, '>', 0)]]">
                      <div class="custom-label-2 normal horizontal layout center">
                        <div class="flex">
                          <div class="type body-lead">
                            <strong>Calorie: </strong>{{estimateCaloriesIntake}}</div>
                        </div>
                        <!-- <paper-icon-button icon="close" on-tap="hideHypertension"></paper-icon-button> -->
                      </div>
                    </template>
                  </template>
                  <template is="dom-if" if="[[_compareFn(bmi.results, '>', 0)]]">
                    <template is="dom-if" if="[[!_compareFn(foodChartName, '==', '')]]">
                      <div class="custom-label-2 normal horizontal layout center">
                        <div class="flex">
                          <div class="type body-lead">
                            <strong>Food Chart: </strong>See "{{foodChartName}}"</div>
                        </div>
                        <!-- <paper-icon-button icon="close" on-tap="hideHypertension"></paper-icon-button> -->
                      </div>
                    </template>
                  </template>
                  <template is="dom-if" if="[[_compareFn(patientWaistValue, '>', '')]]">
                    <div class$="custom-label-2 {{waistHipRatio.class}} horizontal layout center">
                      <div class="flex">
                        <div class="type body-lead">
                          <strong>Waist-Hip Ratio: </strong>{{waistHipRatio.value}}</div>
                        <div class="type body">
                          <strong>Comment: </strong>{{waistHipRatio.comment}}</div>
                      </div>
                      <!-- <paper-icon-button icon="close" on-tap="hideWaistHipRatio"></paper-icon-button> -->
                    </div>
                  </template>

                  <template is="dom-if" if="[[!_compareFn(hypertension.type, '==', '')]]">
                    <div class$="custom-label-2 {{hypertension.class}} horizontal layout center">
                      <div class="flex">
                        <div class="type body-lead">
                          <strong>Hypertension Type: </strong>{{hypertension.type}}</div>
                        <div class="type body">
                          <strong>Comment: </strong>{{hypertension.comment}}</div>
                      </div>
                      <!-- <paper-icon-button icon="close" on-tap="hideHypertension"></paper-icon-button> -->
                    </div>
                  </template>

                  <template is="dom-if" if="[[!_compareFn(glycemiaType.value, '==', '')]]">
                    <div class$="custom-label-2 {{glycemiaType.class}} horizontal layout center">
                      <div class="flex">
                        <span class="type body-lead">{{glycemiaType.value}}</span>
                      </div>
                      <!-- <paper-icon-button icon="close" on-tap="hideAlbuminType"></paper-icon-button> -->
                    </div>
                  </template>

                  <template is="dom-if" if="[[!_compareFn(glycemiaTypeAdditionalMsg.value, '==', '')]]">
                    <div class$="custom-label-2 {{glycemiaTypeAdditionalMsg.class}} horizontal layout center">
                      <div class="flex">
                        <span class="type body-lead">{{glycemiaTypeAdditionalMsg.value}}</span>
                      </div>
                      <!-- <paper-icon-button icon="close" on-tap="hideAlbuminType"></paper-icon-button> -->
                    </div>
                  </template>

                  <template is="dom-if" if="[[!_compareFn(hbStatus, '==', '')]]">
                    <div class="custom-label-2 warning horizontal layout center">
                      <div class="flex">
                        <span class="type body-lead"> You have {{hbStatus}}</span>
                      </div>
                    </div>
                  </template>

                  <template is="dom-if" if="[[!_compareFn(albuminType, '==', '')]]">
                    <div class="custom-label-2 warning horizontal layout center">
                      <div class="flex">
                        <span class="type body-lead">You have {{albuminType}}</span>
                      </div>
                    </div>
                  </template>

                  <template is="dom-if" if="[[!_compareFn(urinePusCellStatus, '==', '')]]">
                    <div class="custom-label-2 warning horizontal layout center">
                      <div class="flex">
                        <span class="type body-lead">You have {{urinePusCellStatus}}</span>
                      </div>
                    </div>
                  </template>

                  <div hidden$="[[$equals(pcc.visitReason.type, '2nd ANC (24 - 28 weeks)')]]">
                    <template is="dom-if" if="[[!_compareFn(hBsAgStatus, '==', '')]]">
                      <div class="custom-label-2 warning horizontal layout center">
                        <div class="flex">
                          <span class="type body-lead">{{hBsAgStatus}}</span>
                        </div>
                      </div>
                    </template>

                    <template is="dom-if" if="[[!_compareFn(vdrlStatus, '==', '')]]">
                      <div class="custom-label-2 warning horizontal layout center">
                        <div class="flex">
                          <span class="type body-lead">{{vdrlStatus}}</span>
                        </div>
                      </div>
                    </template>
                  </div>

                  <!-- <template is="dom-if" if="[[!_compareFn(usgReport, '==', '')]]">
                    <div class="custom-label-2 horizontal layout center">
                      <div class="flex">
                        <span class="type body-lead">{{usgReport}}</span>
                      </div>
                    </div>
                  </template> -->


                </div>
              </paper-card>

              <paper-card class="m-top-8" hidden$="[[$equals(addedMedication.type, '')]]">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">MEDICATION HISTORY</div>
                  </div>
                </div>

                <template is="dom-if" if="[[$equals(addedMedication.type, 'Lifestyle')]]">
                  <div class="card-content horizontal layout wrap">
                    <div class="type body-lead custom-label-2 horizontal layout center">
                      [[addedMedication.type]]
                    </div>
                  </div>
                </template>

                <div class="card-content horizontal layout wrap" hidden$="[[_isEmpty(addedMedication.list.length)]]">
                  <template is="dom-repeat" items="[[addedMedication.list]]">
                    <div class="custom-label-2 horizontal layout center">
                      <div class="flex">
                        <div class="type body-lead">{{item.name}}:
                          <span>{{item.value}}</span>
                        </div>
                        <div hidden$="[[_isEmpty(item.medicineList.length)]]">
                          <template is="dom-repeat" items="[[item.medicineList]]">
                            <div class="horizontal layout center" hidden$="[[$equals(item.name, '')]]">
                              <div class="type caption secondary m-right-8">{{_returnSerial(index)}}</div>
                              <div class="type body">{{item.name}}: {{item.dose}} {{item.unit}}</div>
                            </div>
                          </template>
                        </div>
                        <div class="type body" hidden$="[[_compareFn(item.name, '!=', 'On insulin')]]">
                          <span>Device Type: </span>{{item.typeOfDevice}}
                        </div>
                      </div>
                    </div>
                  </template>
                </div>

              </paper-card>

              <paper-card class="m-top-8">
                <div class="card-custom-header">
                  <div class="layout horizontal center">
                    <div class="title flex">Referred to</div>
                  </div>
                </div>

                <paper-listbox>
                  <template is="dom-repeat" items="[[pccOthers.referredList]]">
                    <paper-item class="custom layout horizontal center">
                      <paper-checkbox class="flex" checked="{{item.isSelected}}">{{item.value}}</paper-checkbox>
                    </paper-item>
                  </template>
                </paper-listbox>

                <div class="card-content">

                  <div class="partner-logo">
                    <img src="../../assets/img/preconception/gov-logo.png" alt="">
                    <img src="../../assets/img/preconception/badas-logo-tab.png" alt="">
                    <img src="../../assets/img/preconception/endocrine_socity_tab_logo.png" alt="">
                    <img src="../../assets/img/preconception/safe-pregnancy.png" alt="">
                  </div>

                  <div class="type body secondary">
                    A joint community awareness program of diabetic Association of Bangladesh and Law and Justice Division,Ministry of Law,Justice
                    and Parliamentary Affairs,Government of People's Republic of Bangladesh,funded by World Diabetes Foundation
                    for strengthening preconception care
                  </div>
                </div>
              </paper-card>
            </section>
            <!-- Page - Complete - END -->

          </iron-pages>


        </div>
      </div>
    </div>


  </template>
  <script>(function(){Polymer({is:"page-preconception-record",behaviors:[app.behaviors.commonComputes,app.behaviors.dbUsing,app.behaviors.translating,app.behaviors.pageLike,app.behaviors.apiCalling],properties:{addedMedication:{type:Object,notify:!0,value:function(){return{type:"",list:[]}}},orgSmsBalance:{type:Number,notify:!0,value:0},pregnancyTitle:{type:String,notify:!0,value:null},hideChildExamination:{type:Boolean,notify:!0,value:!0},IS_NEW_PATIENT:{type:Boolean,notify:!0,value:!1},visitReasonIndex:{type:Number,notify:!0,value:0},selectedPatientInfoPage:{type:Number,notify:!0,value:0},hideMoreAddressInput:{type:Boolean,notify:!0,value:!1},showPhysicalActivity:{type:Boolean,notify:!0,value:!1},EDIT_MODE_ON:{type:Boolean,notify:!0,value:!1},EDIT_RECORD:{type:Boolean,notify:!0,value:!1},showMedicalMngForm:{type:String,notify:!0,value:null},user:{type:Object,notify:!0,value:null},isPatientValid:{type:Boolean,notify:!0,value:!1},patient:{type:Object,notify:!0,value:null},pcc:{type:Object,notify:!0,value:null},pccOthers:{type:Object,notify:!0,value:null},waistHipRatio:{type:Object,notify:!0,value:{}},hideClinicalPart:{type:Boolean,notify:!0,value:!1},visitReasonList:{type:Array,value:function(){return[{label:"Preconception",value:"Preconception",id:"001"},{label:"1st ANC (6 - 14 weeks)",value:"1st ANC (6 - 14 weeks)",id:"002"},{label:"2nd ANC (24 - 28 weeks)",value:"2nd ANC (24 - 28 weeks)",id:"003"},{label:"At Delivery",value:"At Delivery",id:"004"},{label:"6 weeks after delivery",value:"6 weeks after delivery",id:"005"},{label:"1 year after delivery",value:"1 year after delivery",id:"006"},{label:"5 years after delivery",value:"5 years after delivery",id:"007"}]}},survey1ChoiceList:{type:Array,value:function(){return["Kazi","Social Media","Mobile Message","Website","Social Gathering","Newspaper Article","TV Program","BADAS / Birdem Center"]}},genderList:{type:Array,value:function(){return["Male","Female","Other"]}},divisionIndex:{type:Number,value:-1,notify:!0},districtIndex:{type:Number,value:-1,notify:!0},districtList:{type:Array,value:function(){return[]},notify:!0},divisionList:{type:Array,value:function(){return[{divisionName:"Barisal",districtList:["Barguna","Barisal","Bhola","Jhalokati","Patuakhal","Pirojpur"]},{divisionName:"Chittagong",districtList:["Bandarban","Brahmanbaria","Chandpur","Chittagong","Comilla","Cox's Bazar","Feni","Khagrachhari","Lakshmipur","Noakhali","Rangamati"]},{divisionName:"Dhaka",districtList:["Dhaka","Faridpur","Gazipur","Gopalganj","Kishoreganj","Madaripur","Manikganj","Munshiganj","Narayanganj","Narsingdi","Rajbari","Shariatpur","Tangail "]},{divisionName:"Khulna",districtList:["Bagerhat","Chuadanga","Jessore","Jhenaidah","Khulna","Kushtia","Magura","Meherpur","Narail","Satkhira"]},{divisionName:"Mymensingh",districtList:["Jamalpur","Mymensingh","Netrakona","Sherpur"]},{divisionName:"Rajshahi",districtList:["Bogra","Joypurhat","Naogaon","Natore","Nawabganj","Pabna","Rajshahi","Sirajganj"]},{divisionName:"Rangpur",districtList:["Dinajpur","Gaibandha","Kurigram","Lalmonirhat","Nilphamari","Panchagarh","Rangpur","Thakurgaon"]},{divisionName:"Sylhet",districtList:["Habiganj","Moulvibazar","Sunamganj","Sylhet"]}]}},bloodGroupList:{type:Array,value:function(){return["A+","A-","B+","B-","O+","O-","AB+","AB-"]}},bloodGroupIndex1:{type:Number,value:-1},bloodGroupIndex2:{type:Number,value:-1},professionList:{type:Array,value:function(){return["Govt. employee","Non Govt. employee","Self employed","Retired","Unemployed","Others","House wife","Student","Manual labor","Skilled labor","Administrative"]}},expenditureList:{type:Array,value:function(){return["<20 Thousands","21-30 Thousands","31-40 Thousand","41-50 Thousand","51 Thousand and above","Dependant"]}},maritalAgeList:{type:Array,value:function(){return["Newly Married","Less than 1 year","1 to 5 Years","More than 5 Years"]}},OADList:{type:Array,value:function(){return["Metformin","Sulphonylureas","Meglinitide","Glucosidase inhibitor","DPP-4 inhibitors","SGLT-2 inhibitors","Others"]}},antiHTNList:{type:Array,value:function(){return["BB (Beta Blocker)","CCB (Calcium Channel Blocker)","ACE-1 (Angiotensin-converting Enzyme Inhibitors)","ARB (Angiotensis Receptor Blocker"," - Blocker","Diuretics","2 Drugs","3 Drugs","Other"]}},antiLipidsList:{type:Array,value:function(){return["Statin","Fibrate","Ezetimibe","Others"]}},urineAlbuminList:{type:Array,value:function(){return["Present","Absent"]}},urineAlbuminList:{type:Array,value:function(){return["Present (More than 4/HPF","Absent"]}},pageCounter:{type:Number,value:0},familyPlanningMethodList:{type:Array,value:function(){return["Pills","Condom","IUCD"]}},physicalActivityPreList:{type:Array,value:function(){return["Aerobic dance","Walking","Running","Cycling","Treadmill","Stair climbing","Swimming","Jogging","Other","none","nill"]}},physicalActivityObj:{type:Object,value:function(){return{name:null,duration:null,unit:"min/day"}}},onInsulinList:{type:Array,value:function(){return[]}},insulinDeviceList:{type:Array,value:function(){return["Syringe","Pen","Pump"]}},getPatientHeight:{type:Number,value:0},getPatientWeight:{type:Number,value:0},patientWaistValue:{type:Number,value:0},patientHipValue:{type:Number,value:0},sbpValue:{type:String,value:""},dbpValue:{type:String,value:""},hypertension:{type:Object,value:{}},bmi:{type:Object,value:{}},idealWeight:{type:Number,value:0},estimateCaloriesIntake:{type:Number,value:0,notify:!0},albuminType:{type:String,value:""},urinePusCellStatus:{type:String,value:""},ageInYears:{type:Number,value:-1},vdrlStatus:{type:String,value:""},hBsAgStatus:{type:String,value:""},hbStatus:{type:String,value:""},usgReport:{type:String,value:""},foodChartName:{type:String,value:""},fpg:{type:Number,value:0},twoHpg:{type:Number,value:0},glycemiaType:{type:Object,value:{}},glycemiaTypeAdditionalMsg:{type:Object,value:{}},glycemicStatusList:{type:Array,value:function(){return["Unknown","Normal at Visit","IFG","IGT","Known Diabetes","GDM"]}},confirmPregnancyList:{type:Array,value:function(){return["Pregnancy Strip","USG"]}},hyperglycemiaOfPregnancyValueList:{type:Array,value:function(){return["Rapid Acting","Short Acting","Intermideate Action","Premix","Split mix","Long acting"]}},otherFamilyHistoryDisease:{type:Object,value:function(){return{disease:"",value:"yes"}}},historyDisease:{type:Object,value:function(){return{disease:"",value:"yes"}}},otherTypeOfCookingOil:{type:Object,value:function(){return{type:"",isYes:"yes",amount:"",unit:"Litres",duration:"Month"}}},otherVaccine:{type:Object,value:function(){return{name:"",value:""}}},otherDietItem:{type:Object,value:function(){return{type:"",consumeAmount:[{time:"daily",value:null,unit:""},{time:"weekly",value:null,unit:""},{time:"monthly",value:null,unit:""}]}}}},_returnSerial:function(e){return e+1},_compareFn:function(e,t,i){return"<"===t?e<i:">"===t?e>i:"=="===t?e===i:">="===t?e>=i:"<="===t?e<=i:"!="===t?e!==i:void 0},_loadUser:function(){var e;if(e=app.db.find("user"),1===e.length)return this.user=e[0]},arrowBackButtonPressed:function(e){return this.domHost.navigateToPreviousPage()},$findCreator:function(e){return"me"},_computeAge:function(e){var t,i,n,a;return a=new Date,i=new Date(e),t=a.getFullYear()-i.getFullYear(),n=a.getMonth()-i.getMonth(),(n<0||0===n&&a.getDate()<i.getDate())&&t--,t},nextButton:function(){return this.selectedPatientInfoPage++},backButton:function(){return this.selectedPatientInfoPage--},getDefaultPasswordForPatientSignup:function(){return"123456"},_makePatientSignUp:function(e){return this.patient={name:{first:"",last:"",middle:"",honorifics:""},password:"123456",email:"",phone:"",additionalPhoneNumber:null,dateOfBirth:lib.datetime.mkDate(lib.datetime.now()),effectiveRegion:"Bangladesh",doctorAccessPin:"0000",nationalIdCardNumber:null,addressList:[{addressTitle:"Personal",addressType:"personal",flat:null,floor:null,plot:null,block:null,road:null,village:null,addressUnion:null,subdistrictName:null,addressDistrict:null,addressPostalOrZipCode:null,addressCityOrTown:null,addressDivision:null,addressAreaName:null,addressLine1:null,addressLine2:null,stateOrProvince:null,addressCountry:"Bangladesh"}],gender:"Female",bloodGroup:"",allergy:"",expenditure:null,profession:null,patientSpouseName:"",patientFatherName:"",patientMotherName:"",maritalAge:"",maritalStatus:"",numberOfFamilyMember:"",numberOfChildren:"",belongOrganizationList:[{organizationId:null,patientIdbyOrganization:null}]},this.set("IS_NEW_PATIENT",!0),this.isPatientValid=!0,e()},createOtherPccRecordData:function(){return this.pccOthers={survey:[{question:"How did you find out about this project?",answer:""}],questionList:[{question:{en:"Appropriate medical advice before pregnancy may reduce the risk of diabetes,gestational diabetes (diabetes during pregnancy) and heart problems",bd:"      ,     "},value:""},{question:{en:"Every married woman should take the following vaccinations before pregnancy: Tetanus, Measles, Mumps, Rubella, Chicken Pox, Hepatitis-B, if not taken previously",bd:"          , , , ,   -   "},value:""},{question:{en:"Before pregnancy every women should know their blood group",bd:"        "},value:""},{question:{en:"People who are overweight and have family members with diabetes are most likely to get diabetes (by family members only parents, siblings and grandparents are implied)",bd:"     ,     "},value:""},{question:{en:"Uncontrolled gestational diabetes (diabetes during pregnancy) may create complications for the mother and child",bd:"          "},value:""},{question:{en:"Overeating and less physical activity are among the many causes for overweight and obesity",bd:"          "},value:""},{question:{en:"Low Hemoglobin Level (Anemia) increases the risk of complications before and after pregnancy",bd:"  ,       "},value:""},{question:{en:"Stroke, heart problems, kidney and respiratory disorders may be caused by high blood pressure",bd:"   , ,       "},value:""},{question:{en:"The condition where pregnant women with blood pressure, experience convulsions/fit is called Eclampsia",bd:"       "},value:""},{question:{en:"If Urinary Tract Infection (infection related with urine & bladder) is not treated properly before/during pregnancy, the risk of underweight childbirth and premature baby increases",bd:"                "},value:""}],referredList:[{isSelected:!1,type:"general",value:"Counselled"},{isSelected:!1,type:"general",value:"Referred to Gynaecologist"},{isSelected:!1,type:"general",value:"Referred to Diabatologist/Endocrinologist"},{isSelected:!1,type:"general",value:"Referred to BADAS Center for Registration"},{isSelected:!1,type:"general",value:"Referred to Medicine Specialist"},{isSelected:!1,type:"general",value:"Referred to Nutritionist"},{isSelected:!0,type:"terms-and-condition",value:"I Agree to the Terms and Conditions"}]}},getDoctorSpeciality:function(){return 0!==this.user.specializationList.length?this.user.specializationList[0].specializationTitle:"not provided yet"},_isEmpty:function(e){return 0===e},createPccRecord:function(){return this.pcc={serial:null,lastModifiedDatetimeStamp:0,createdDatetimeStamp:0,lastSyncedDatetimeStamp:0,createdByUserSerial:this.user.serial,createdByUserName:this.user.name,patientSerial:null,doctorName:this.$getFullName(this.user.name),doctorSpeciality:this.getDoctorSpeciality(),visitReason:{type:"Preconception",id:"001"},centerInfo:{centerIdOnServer:this.organization.idOnServer,centerSerial:"",centerName:this.organization.name,patientId:null},physicalActivityList:[],medicalInfo:{vaccinationList:[{name:"Tetanus",value:""},{name:"MMR",value:""},{name:"Varicella",value:""},{name:"Hepatitis",value:""}],didPreviousPreconceptionCare:"",familyPlanning:{haveFamilyPlanning:"",methodsOfFamilyPlanning:""},drugAddictionList:[{type:"Cigarette Smoking",isYes:"",amount:""},{type:"Tobacco leaf",isYes:"",amount:""},{type:"Betel leaf",isYes:"",amount:""},{type:"Alcohol",isYes:"",amount:""},{type:"Others",isYes:"",amount:""}],otherActivityList:[{name:"Watching TV",duration:null,unit:"h/day"},{name:"Sleeping",duration:null,unit:"h/day"}],dietaryHistoryList:[{type:"Rice",consumeAmount:[{time:"daily",value:null,unit:""},{time:"weekly",value:null,unit:""},{time:"monthly",value:null,unit:""}]},{type:"Ruti/Chapati",consumeAmount:[{time:"daily",value:null,unit:""},{time:"weekly",value:null,unit:""},{time:"monthly",value:null,unit:""}]},{type:"Fish",consumeAmount:[{time:"daily",value:null,unit:""},{time:"weekly",value:null,unit:""},{time:"monthly",value:null,unit:""}]},{type:"Meat",consumeAmount:[{time:"daily",value:null,unit:""},{time:"weekly",value:null,unit:""},{time:"monthly",value:null,unit:""}]},{type:"Green Vegetable",consumeAmount:[{time:"daily",value:null,unit:""},{time:"weekly",value:null,unit:""},{time:"monthly",value:null,unit:""}]},{type:"Fruits",consumeAmount:[{time:"daily",value:null,unit:""},{time:"weekly",value:null,unit:""},{time:"monthly",value:null,unit:""}]},{type:"Soft drinks",consumeAmount:[{time:"daily",value:null,unit:""},{time:"weekly",value:null,unit:""},{time:"monthly",value:null,unit:""}]},{type:"Table Salt",consumeAmount:[{time:"daily",value:null,unit:""},{time:"weekly",value:null,unit:""},{time:"monthly",value:null,unit:""}]},{type:"Sweets",consumeAmount:[{time:"daily",value:null,unit:""},{time:"weekly",value:null,unit:""},{time:"monthly",value:null,unit:""}]},{type:"Fast Foods",consumeAmount:[{time:"daily",value:null,unit:""},{time:"weekly",value:null,unit:""},{time:"monthly",value:null,unit:""}]},{type:"Ghee/butter",consumeAmount:[{time:"daily",value:null,unit:""},{time:"weekly",value:null,unit:""},{time:"monthly",value:null,unit:""}]},{type:"Hotel Food",consumeAmount:[{time:"daily",value:null,unit:""},{time:"weekly",value:null,unit:""},{time:"monthly",value:null,unit:""}]}],typeOfCookingOilList:[{type:"Soyebean oil",isYes:"",amount:"",unit:"Litres",duration:"Month"},{type:"Mustard oil",isYes:"",amount:"",unit:"Litres",duration:"Month"},{type:"Palm oil",isYes:"",amount:"",unit:"Litres",duration:"Month"},{type:"Olive oil",isYes:"",amount:"",unit:"Litres",duration:"Month"},{type:"Rice bran oil",isYes:"",amount:"",unit:"Litres",duration:"Month"},{type:"Other",isYes:"",amount:"",unit:"Litres",duration:"Month"}],historyOfDeseaseList:[{diseaseName:"Diabetes",value:""},{diseaseName:"Pregnancy diabetes",value:""},{diseaseName:"Hypertension",value:""},{diseaseName:"Heart disease",value:""},{diseaseName:"Asthma",value:""},{diseaseName:"Tuberculosis",value:""},{diseaseName:"Mental disorder",value:""},{diseaseName:"Abortion",value:""},{diseaseName:"Preeclampsia",value:""},{diseaseName:"Eclampsia",value:""},{diseaseName:"Still-Birth",value:""},{diseaseName:"Macrosomia (Large Baby >4kg)",value:""},{diseaseName:"LBW (Small Baby <2.5kg)",value:""},{diseaseName:"Pre-term ( less than 37 weeks )",value:""},{diseaseName:"IUD",value:""}],historyOfMedicationList:[{name:"On Insulin",value:"",type:"",typeOfDevice:"",forVisitReasonIdList:[]},{name:"OADs",value:"",type:"",forVisitReasonIdList:["002","003","005"]},{name:"Anti HTN",value:"",type:"",forVisitReasonIdList:[]},{name:"Anti lipids",value:"",type:"",forVisitReasonIdList:[]},{name:"Cardiac Medication",value:"",type:"",forVisitReasonIdList:[]}],familyHistoryList:[{disease:"Diabetes",value:""},{disease:"Hypertension",value:""},{disease:"Heart disease",value:""},{disease:"Stroke",value:""}]},clinical:{pregnancyInfo:{glycemicStatus:localStorage.getItem("currentPatientGlycemicStatus")||"",gestationalWeek:"",weeksAfterDelivery:"",monthsAfterDelivery:"",yearsAfterDelivery:"",confirmPregnancyBy:"",lmp:"",edd:"",nextVisitDate:"",gravida:"",para:"",haveAbortion:"no",odema:""},birthInfo:{list:[{type:"Site of Deliver",value:"",unit:"",preList:["Home","Hospital"],inputType:"radio-button-group"},{type:"Sex of Baby",value:"",unit:"",preList:["Male","Female"],inputType:"radio-button-group"},{type:"Mode of Delivery",value:"",unit:"",preList:["Normal","C/S","Forcep"],inputType:"radio-button-group"},{type:"Apgar score",value:"",unit:"",preList:[],inputType:"text"},{type:"Resuscitation",value:"",unit:"",preList:["Yes","No"],inputType:"radio-button-group"},{type:"Delivered at (Weeks)",value:"",unit:"",preList:["Yes","No"],inputType:"number"},{type:"Admission to neonatal nursery",value:"",unit:"",preList:["Yes","No"],inputType:"radio-button-group"},{type:"Congenital anomaly",value:"",unit:"",preList:["Yes","No"],inputType:"radio-button-group"},{type:"jaundice",value:"",unit:"",preList:["Yes","No"],inputType:"radio-button-group"},{type:"Death",value:"",unit:"",preList:["Yes","No"],inputType:"radio-button-group"}]},childHistory:[{type:"Weight(kg)",atBirthAndComments:[{name:"At Birth",value:""},{name:"Comments",value:""}]},{type:"length(cm)",atBirthAndComments:[{name:"At Birth",value:""},{name:"Comments",value:""}]},{type:"OFC(cm)",atBirthAndComments:[{name:"At Birth",value:""},{name:"Comments",value:""}]},{type:"Mid Upper Arm(cm)",atBirthAndComments:[{name:"At Birth",value:""},{name:"Comments",value:""}]},{type:"Weight for height(kg/m)",atBirthAndComments:[{name:"At Birth",value:""},{name:"Comments",value:""}]},{type:"Height for age(cm)",atBirthAndComments:[{name:"At Birth",value:""},{name:"Comments",value:""}]},{type:"Ponderial Index([(gm/cm)*100])",atBirthAndComments:[{name:"At Birth",value:""},{name:"Comments",value:""}]},{type:"Placental weight(gm)",atBirthAndComments:[{name:"At Birth",value:""},{name:"Comments",value:""}]},{type:"Blood sugar(mmol/L)",atBirthAndComments:[{name:"At Birth",value:""},{name:"Comments",value:""}]}],motherHistory:[{type:"Preclampsia",value:"",unit:"",preList:["Yes","No"],inputType:"radio-button-group"},{type:"Eclampsia",value:"",unit:"",preList:["Yes","No"],inputType:"radio-button-group"},{type:"Breast Feeding",value:"",unit:"",preList:["Yes","No"],inputType:"radio-button-group"},{type:"PIH",value:"",unit:"",preList:["Yes","No"],inputType:"radio-button-group"}],clinicalExaminationList:[{type:"Birth Weight",value:"",unit:"Kg",inputType:"number",haveInfoPanel:!1},{type:"Height",value:"",unit:"cm",inputType:"number"},{type:"Weight",value:"",unit:"Kg",inputType:"number"},{type:"Waist",value:"",unit:"cm",inputType:"number"},{type:"Hip",value:"",unit:"cm",inputType:"number"},{type:"SBP",value:"",unit:"mmHg",inputType:"number"},{type:"DBP",value:"",unit:"mmHg",inputType:"number"}],muacValue:"",labReportsList:[{type:"FPG",value:"",unit:"mmol/L",inputType:"number"},{type:"2hPG/Post meal",value:"",unit:"mmol/L",inputType:"number"},{type:"Hb",value:"",unit:"g/dl",inputType:"number"},{type:"Blood Group",value:"",unit:"",inputType:"drop-down-menu",haveInfoPanel:!1},{type:"Urine Albumin",value:"",unit:"",preList:["Absent","Present"],inputType:"radio-button-group"},{type:"Urine Pus cell",value:"",unit:"",preList:["Absent","Present (More than 4/HPF)"],inputType:"radio-button-group"}],labReportsOtherList:[{type:"HBsAg",value:"",unit:"",preList:["Absent","Present"],inputType:"radio-button-group"},{type:"VDRL",value:"",unit:"",preList:["Absent","Present"],inputType:"radio-button-group"},{type:"USG report",value:"",unit:"Weeks",inputType:"number"},{type:"HbA1c %:",value:"",unit:"",inputType:"number"}]},medicalManagement:{lifeStyleType:"",medicationList:[{type:"Oral anti-diabetics",list:[{name:"OADs",isYes:"",value:"",hideAddButton:!0}]},{type:"Insulin",list:[{name:"On insulin",isYes:"",value:"",typeOfDevice:"",hideAddButton:!0}]},{type:"Other medications",list:[{name:"Anti HTN",isYes:"",hideAddButton:!1,medicineList:[{name:"",dose:"",unit:""}]},{name:"Anti lipids",isYes:"",hideAddButton:!1,medicineList:[{name:"",dose:"",unit:""}]},{name:"Aspirin",isYes:"",hideAddButton:!1,medicineList:[{name:"",dose:"",unit:""}]},{name:"Anti-obesity",isYes:"",hideAddButton:!1,medicineList:[{name:"",dose:"",unit:""}]}]}],medicationRelatedToPregnancy:[{type:"Multivitamin",value:"",unit:"",preList:["Yes","No"],inputType:"radio-button-group"},{type:"Calcium",value:"",unit:"",preList:["Yes","No"],inputType:"radio-button-group"},{type:"Iron",value:"",unit:"",preList:["Yes","No"],inputType:"radio-button-group"}],medicationRelatedToPregnancyFro1stANC:[{type:"Folic Acid",value:"",unit:"",preList:["Yes","No"],inputType:"radio-button-group"},{type:"Zn",value:"",unit:"",preList:["Yes","No"],inputType:"radio-button-group"}],hyperglycemiaOfPregnancy:{instruction:"",drugList:[{name:""}]}},pccOthers:null,childExamination:{forVisitReasonIdList:["005","006","007"],examinationList:[{type:"Height",value:"",unit:"cm",inputType:"number"},{type:"Weight",value:"",unit:"kg",inputType:"number"},{type:"Length",value:"",unit:"cm",inputType:"number"},{type:"MUAC",value:"",unit:"",inputType:"number"}]}}},_loadPatient:function(e,t){var i;return i=app.db.find("patient-list",function(t){var i;return i=t.serial,i===e}),1===i.length?(this.patient=i[0],this.set("IS_NEW_PATIENT",!1),this.isPatientValid=!0):this._notifyInvalidPatient(),t()},_loadPccRecord:function(e){var t,i;return t=app.db.find("pcc-records",function(t){var i;return i=t.serial,i===e}),1===t.length?(i=t[0],void this.set("pcc",i)):this.domHost.showModalDialog("Duplicate PCC Record!")},_notifyInvalidPatient:function(){return this.isPatientValid=!1,this.domHost.showModalDialog("Invalid Patient!")},calculateAge:function(e){var t,i,n,a;return n=e.detail.value,a=new Date(n).getFullYear(),i=(new Date).getFullYear(),t=i-a,0===t&&(t=null),this.ageInYears=t},makeDOBFromYears:function(e){var t,i;return t=e.target.value,i=(new Date).getFullYear(),i-=parseInt(t),this.set("patient.dateOfBirth",i+"-01-01")},_makeNameObject:function(e){var t,i,n,a,s,r,l;return"string"==typeof e?(e=e.trim(),l=e.split("."),r=l.pop(),i=0===l.length?"":l.join(".").trim(),l=r.trim().split(" "),s={},l.length<=1?t=l[0]:(t=l.shift(),n=l.pop(),a=l.join(" "),""===a&&(a=null),""===n&&(n=null)),""===i&&(i=null),s.honorifics=i,s.first=t,s.middle=a,s.last=n,s):e},printButtonPressed:function(e){return window.print()},addPhysicalActivity:function(){return this.physicalActivityObj.name&&this.physicalActivityObj.duration?(this.push("pcc.physicalActivityList",this.physicalActivityObj),this.makeNewPhysicalActivityObj()):void this.domHost.showToast("Please Fill Up Name and Duration")},deletePhysicalActivity:function(e){var t;return t=e.model.index,this.splice("pcc.physicalActivityList",t,1)},makeNewPhysicalActivityObj:function(){return this.physicalActivityObj={name:null,duration:null,unit:"min/day"}},medicalManagementValueChange:function(e){var t;return t=this.pcc.medicalManagement.mangementTypeList[1].value,this.set("showMedicalMngForm",this.pcc.medicalManagement.mangementTypeList[1].value)},calcCalories:function(e){var t,i;return this.set("estimateCaloriesIntake",0),t=e,i=this.pcc.visitReason.type,"2nd ANC (24 - 28 weeks)"===i?t=e+340:"At Delivery"!==i&&"6 weeks after delivery"!==i||(t=e+700),this.set("estimateCaloriesIntake",t),this.getFoodChart(this.estimateCaloriesIntake)},getFoodChart:function(e){var t;return t="",this.set("foodChartName",""),1100>e?t="Food Chart 1":1300>e&&e>=1100?t="Food Chart 2":1500>e&&e>=1300?t="Food Chart 3":1700>e&&e>=1500?t="Food Chart 4":1900>e&&e>=1700?t="Food Chart 5":2100>e&&e>=1900?t="Food Chart 6":2300>e&&e>=2100?t="Food Chart 7":2500>e&&e>=2300?t="Food Chart 8":2500<=e&&(t="Food Chart 9"),this.set("foodChartName",t)},calcBMI:function(e,t){var i,n,a,s,r;return r=t/(e*e),this.set("bmi.results",Math.round(100*r)/100),this.bmi.results<18.5?(this.set("bmi.classification","Underweight"),this.set("bmi.class","warning"),this.calcCalories(parseFloat(35*this.idealWeight))):18.5<=(i=this.bmi.results)&&i<23?(this.set("bmi.classification","Normal weight"),this.set("bmi.class","normal"),this.calcCalories(parseFloat(30*this.idealWeight))):23<=(n=this.bmi.results)&&n<=25?(this.set("bmi.classification","Overweight"),this.set("bmi.class","warning"),this.calcCalories(parseFloat(25*this.idealWeight))):25<=(a=this.bmi.results)&&a<30?(this.set("bmi.classification","Class I obesity"),this.set("bmi.class","danger"),this.calcCalories(parseFloat(20*this.idealWeight))):30<=(s=this.bmi.results)&&s<35?(this.set("bmi.classification","Class II obesity"),this.set("bmi.class","danger"),this.calcCalories(parseFloat(20*this.idealWeight))):this.bmi.results>=35?(this.set("bmi.classification","Class III obesity"),this.set("bmi.class","danger"),this.calcCalories(parseFloat(20*this.idealWeight))):void 0},calcIdealWeight:function(e){var t;return t=e-100,this.set("idealWeight",t)},calcWaistHipRatio:function(e,t){var i;return e=parseFloat(e),t=parseFloat(t),t>0?(i=e/t,i=Math.round(100*i)/100,i<.8?lib.util.delay(100,function(e){return function(){return e.set("waistHipRatio.value",i),e.set("waistHipRatio.comment","YOU ARE HEALTHY"),e.set("waistHipRatio.class","normal")}}(this)):lib.util.delay(100,function(e){return function(){return e.set("waistHipRatio.value",i),e.set("waistHipRatio.comment","YOU ARE OBESE"),e.set("waistHipRatio.class","warning")}}(this))):e>=80?lib.util.delay(100,function(e){return function(){return e.set("waistHipRatio.value",""),e.set("waistHipRatio.comment","YOU ARE C.OBESE"),e.set("waistHipRatio.class","warning")}}(this)):e<80?lib.util.delay(100,function(e){return function(){return e.set("waistHipRatio.value",""),e.set("waistHipRatio.comment","YOU ARE HEALTHY"),e.set("waistHipRatio.class","normal")}}(this)):void 0},calcHypertension:function(e,t){e=parseInt(e),t=parseInt(t),e<=t?(this.set("hypertension.type","Invalid"),this.set("hypertension.comment","SBP Value cannot be equal or lower than DBP value"),this.set("hypertension.class","danger")):e<=120&&t<=80?(this.set("hypertension.type","BP normal"),this.set("hypertension.comment","Normal"),this.set("hypertension.class","normal")):120<e&&e<=139||80<t&&t<=89?(this.set("hypertension.type","Prehypertension"),this.set("hypertension.comment","Need lifestyle change"),this.set("hypertension.class","warning")):140<=e&&e<=159||90<=t&&t<=99?(this.set("hypertension.type","Stage 1 hypertension"),this.set("hypertension.comment","Need lifestyle change and Need physician consultation"),this.set("hypertension.class","danger")):(e>=160||t>=100)&&(this.set("hypertension.type","Stage 2 hypertension"),this.set("hypertension.comment","Need lifestyle change and Need immediate physician consultation"),this.set("hypertension.class","danger"))},calcUrinePusCellStatus:function(e){return"Present (More than 4/HPF)"===e?this.set("urinePusCellStatus","UTI"):this.set("urinePusCellStatus","")},calcAlbuminType:function(e){return"Present"===e?this.set("albuminType","ALBUMINURIA"):this.set("albuminType","")},calcVdrlStatus:function(e){return"Present"===e?this.set("vdrlStatus","VDRL POSITIVE"):this.set("vdrlStatus","")},calcHBsAgStatus:function(e){return"Present"===e?this.set("hBsAgStatus","HEPATITIS B POSITIVE"):this.set("hBsAgStatus","")},calcHbStatus:function(e){return e=parseFloat(e),"1st ANC (6 - 14 weeks)"===this.pcc.visitReason.type||"2nd ANC (24 - 28 weeks)"===this.pcc.visitReason.type?e<11?this.set("hbStatus","ANEMIA"):this.set("hbStatus",""):e<12?this.set("hbStatus","ANEMIA"):this.set("hbStatus","")},checkUSGReport:function(e,t){return e>14?(this.set("pcc.clinical.labReportsList.{index}.value",14),this.set("usgReport","USG duration can't be more than 14 weeks")):this.set("usgReport","USG duration can't be more than 14 weeks")},hideBmiData:function(){return this.set("bmi.results",0)},hideIdealWeight:function(){return this.set("idealWeight",0)},hideHypertention:function(){return this.set("hypertension.type","")},hideAlbuminType:function(){return this.set("albuminType","")},computeClinicalData:function(e){var t,i;return t=e.model.index,i=this.pcc.clinical.clinicalExaminationList[t],"Height"===i.type?(this.getPatientHeight=i.value/100,this.calcIdealWeight(i.value)):"Weight"===i.type?this.getPatientWeight=i.value:"Waist"===i.type?this.patientWaistValue=i.value:"Hip"===i.type?this.patientHipValue=i.value:"SBP"===i.type?(this.sbpValue=i.value,this.calcHypertension(this.sbpValue,this.dbpValue)):"DBP"===i.type&&(this.dbpValue=i.value,this.calcHypertension(this.sbpValue,this.dbpValue)),this.calcWaistHipRatio(this.patientWaistValue,this.patientHipValue),this.calcBMI(this.getPatientHeight,this.getPatientWeight)},calc2HpgValue:function(e,t){if(0!==e)return"1st ANC (6 - 14 weeks)"===this.pcc.visitReason.type||"2nd ANC (24 - 28 weeks)"===this.pcc.visitReason.type?e<5.1?(this.set("glycemiaType.value","NORMAL GLYCEMIA"),this.set("glycemiaType.class","normal"),t<8.5?(this.set("glycemiaType.value","Normal GLYCEMIA"),this.set("glycemiaType.class","normal")):t>=8.5&&(this.set("glycemiaType.value","GDM"),this.set("glycemiaType.class","warning"))):e>=5.1&&(this.set("glycemiaType.value","GDM"),this.set("glycemiaType.class","warning")):e<6.1?(this.set("glycemiaType.value","NORMAL GLYCEMIA"),this.set("glycemiaType.class","normal"),t>=11.1?(this.set("glycemiaType.value","DM"),this.set("glycemiaType.class","warning")):7.8<=t&&t<11.1?(this.set("glycemiaType.value","IGT"),this.set("glycemiaType.class","warning")):t<7.8&&(this.set("glycemiaType.value","Normal GLYCEMIA"),this.set("glycemiaType.class","normal"))):6.1<=e&&e<7?(this.set("glycemiaType.value","IFG"),this.set("glycemiaType.class","warning"),11.1>t&&t>=7.8?(this.set("glycemiaType.value","IGT"),this.set("glycemiaType.class","warning")):t>=11.1&&(this.set("glycemiaType.value","DM"),this.set("glycemiaType.class","warning"))):e>=7&&(this.set("glycemiaType.value","DM"),this.set("glycemiaType.class","warning")),"Preconception"!==this.pcc.visitReason.type&&"At Delivery"!==this.pcc.visitReason.type?e<=5.1?(this.set("glycemiaTypeAdditionalMsg.value","Good Control"),this.set("glycemiaTypeAdditionalMsg.class","normal"),t<=6.7?(this.set("glycemiaTypeAdditionalMsg.value","Good Control"),this.set("glycemiaTypeAdditionalMsg.class","normal")):(this.set("glycemiaTypeAdditionalMsg.value","Uncontrolled"),this.set("glycemiaTypeAdditionalMsg.class","warning"))):(this.set("glycemiaTypeAdditionalMsg.value","Uncontrolled"),this.set("glycemiaTypeAdditionalMsg.class","warning")):void 0},computeLabData:function(e){var t,i;return t=e.model.index,i=this.pcc.clinical.labReportsList[t],"FPG"===i.type?this.fpg=parseFloat(i.value):"2hPG/Post meal"===i.type?this.twoHpg=parseFloat(i.value):"Urine Albumin"===i.type?lib.util.delay(100,function(e){return function(){return e.calcAlbuminType(i.value)}}(this)):"Urine Pus cell"===i.type?lib.util.delay(100,function(e){return function(){return e.calcUrinePusCellStatus(i.value)}}(this)):"Hb"===i.type?lib.util.delay(100,function(e){return function(){return e.calcHbStatus(i.value)}}(this)):"HBsAg"===i.type?lib.util.delay(100,function(e){return function(){return e.calcHBsAgStatus(i.value)}}(this)):"VDRL"===i.type&&lib.util.delay(100,function(e){return function(){return e.calcVdrlStatus(i.value)}}(this)),this.calc2HpgValue(this.fpg,this.twoHpg)},onDietaryItemValue:function(e){var t,i,n,a,s,r,l,o,u,c;n=this.locateParentNode(e.target,"PAPER-INPUT"),n.opened=!1,o=this.$$("#dietary-list-repeater"),a=o.indexForElement(n),s=e.model.index,t=0,u=1,r=2,0===s&&(i=this.pcc.medicalInfo.dietaryHistoryList[a].consumeAmount[s].value,this.set("pcc.medicalInfo.dietaryHistoryList."+a+".consumeAmount."+u+".value",parseInt((7*i).toString())),this.set("pcc.medicalInfo.dietaryHistoryList."+a+".consumeAmount."+r+".value",parseInt((30*i).toString()))),1===s&&(c=this.pcc.medicalInfo.dietaryHistoryList[a].consumeAmount[s].value,i=c/7,this.set("pcc.medicalInfo.dietaryHistoryList."+a+".consumeAmount."+t+".value",parseInt(i.toString())),
this.set("pcc.medicalInfo.dietaryHistoryList."+a+".consumeAmount."+r+".value",parseInt((30*i).toString()))),2===s&&(l=this.pcc.medicalInfo.dietaryHistoryList[a].consumeAmount[s].value,i=l/30,this.set("pcc.medicalInfo.dietaryHistoryList."+a+".consumeAmount."+t+".value",0),this.set("pcc.medicalInfo.dietaryHistoryList."+a+".consumeAmount."+u+".value",0))},_getWeeklyValue:function(e){var t,i,n,a;i=this.locateParentNode(e.target,"PAPER-INPUT"),i.opened=!1,a=this.$$("#dietary-list-repeater"),n=a.indexForElement(i),t=e.model.index},upsertPccRecord:function(e){return null===this.pcc.serial&&(this.pcc.serial=this.generateSerialForPccRecord(),this.pcc.createdDatetimeStamp=lib.datetime.now(),this.pcc.patientSerial=this.patient.serial),this.updatePatientDetails(function(e){return function(){return e._savePccRecord(e.pcc),e.createPccRecord(),e.domHost.showToast("Record Saved!"),e.arrowBackButtonPressed()}}(this))},updatePatientDetails:function(e){var t;return this.patient.name&&this.patient.dateOfBirth?(t=this.patient,this._callBDEMRPatientDetailsUpdateApi(t),e()):void this.domHost.showToast("Please Fill Up Required Information")},_importPatient:function(e,t,i){return this.callApi("/bdemr-patient-import-new",{serial:e,pin:t,doctorName:this.user.name,organizationId:this.organization.idOnServer},function(e){return function(t,n){var a,s,r,l;return n.hasError?e.domHost.showModalDialog(n.error.message):(l=n.data,1!==l.length?e.domHost.showModalDialog("Unknown error occurred."):(r=l[0],s=app.db.find("patient-list",function(e){var t;return t=e.serial,t===r.serial})[0]._id,s&&app.db.remove("patient-list",s),r.flags={isImported:!1,isLocalOnly:!1,isOnlineOnly:!1},r.flags.isImported=!0,a=app.db.insert("patient-list",r),i(a)))}}(this))},_callBDEMRPatientDetailsUpdateApi:function(e){var t;return t={patient:e,apiKey:this.user.apiKey},this.callApi("/bdemr-preconception-records-patient-details-update",t,function(e){return function(t,i){i.hasError&&e.domHost.showModalDialog(i.error.message)}}(this))},onVisitReasonChange:function(e){var t,i;return t=this.visitReasonList[this.visitReasonIndex].id,i=this.visitReasonList[this.visitReasonIndex].value,this.pcc.visitReason.id=t,this.pcc.visitReason.type=i,this.changePregnencyCardTitle(this.pcc.visitReason.type),this.updateInsulinTypePreList(),this.toggleChildExaminationCard()},toggleChildExaminationCard:function(){var e,t,i,n;for(n=this.pcc.childExamination.forVisitReasonIdList,e=0,i=n.length;e<i;e++)t=n[e],this.pcc.visitReason.id===t&&lib.util.delay(10,function(e){return function(){e.set("hideChildExamination",!1)}}(this));return this.set("hideChildExamination",!0)},changePregnencyCardTitle:function(e){return"6 weeks after delivery"===e?lib.util.delay(10,function(e){return function(){return e.set("pregnancyTitle","Post Pregnancy (4 to 12 weeks)")}}(this)):"1 year after delivery"===e?lib.util.delay(10,function(e){return function(){return e.set("pregnancyTitle","1 year after delivery")}}(this)):"5 years after delivery"===e?lib.util.delay(10,function(e){return function(){return e.set("pregnancyTitle","5 years after delivery")}}(this)):void 0},updateInsulinTypePreList:function(){var e,t,i,n,a,s;for(n=["Short Acting Conventional","Intermediate Acting Conventional","Rapid Activing Analogue","Premixed Conventional","Premixed Analogue","Spiltmixed Conventional","Glargine Analogue","Determir Analogue","Others"],a=["Short Acting Conventional","Intermediate Acting Conventional","Rapid Activing Analogue","Premixed Conventional","Premixed Analogue","Spiltmixed Conventional","Glargine Analogue","Determir Analogue","Insulin Degludec","Insulin Degludec/Insulin Aspart","Others"],s=["Preconception","6 weeks after delivery","1 year after delivery","5 years after delivery"],e=0,i=s.length;e<i;e++)if(t=s[e],this.pcc.visitReason.type===t)return void this.set("onInsulinList",a);return this.set("onInsulinList",n)},abortionValueChange:function(e){return lib.util.delay(10,function(e){return function(){return"yes"===e.pcc.clinical.pregnancyInfo.haveAbortion?lib.util.delay(100,function(){e.set("hideClinicalPart",!0)}):lib.util.delay(100,function(){e.set("hideClinicalPart",!1)})}}(this))},addAnotherHyperglycemiaDrug:function(){return this.push("pcc.medicalManagement.hyperglycemiaOfPregnancy.drugList",{name:""})},deleteHyperglycemiaDrug:function(e){var t;return t=e.model.index,this.splice("pcc.medicalManagement.hyperglycemiaOfPregnancy.drugList",t,1)},onDivisionChange:function(e){var t;return this.set("districtIndex",-1),t=this.divisionList[this.divisionIndex].districtList,lib.util.delay(5,function(e){return function(){return e.set("districtList",t)}}(this))},checkForVisitId:function(e){var t,i,n;if(e.length>0)for(t=0,n=e.length;t<n;t++)if(i=e[t],this.pcc.visitReason.id===i)return!0;return!0},onPageSelect:function(e){var t,i;if(null!==this.patient){if(i=this.pcc.clinical.clinicalExaminationList[2].value,t=this.pcc.clinical.clinicalExaminationList[1].value,this.IS_NEW_PATIENT){if(!(this.patient.name.first&&this.patient.password&&this.patient.phone&&this.patient.dateOfBirth))return this.domHost.showToast("Please Fill Up Required Information"),void this.set("selectedPatientInfoPage",0);if(this.selectedPatientInfoPage>3&&!("At Delivery"===this.pcc.visitReason.type||t&&i))return this.domHost.showToast("Please Add Height & Weight"),void this.set("selectedPatientInfoPage",3);6===this.selectedPatientInfoPage&&this.getAddedMedicatonList()}else{if(!this.patient.name.first||!this.patient.dateOfBirth)return this.domHost.showToast("Please Fill Up Required Information"),void this.set("selectedPatientInfoPage",0);if(this.selectedPatientInfoPage>2&&!("At Delivery"===this.pcc.visitReason.type||t&&i))return this.domHost.showToast("Please Add Height & Weight"),void this.set("selectedPatientInfoPage",2);4===this.selectedPatientInfoPage&&this.getAddedMedicatonList()}return!this.EDIT_RECORD||2!==this.selectedPatientInfoPage&&4!==this.selectedPatientInfoPage?void 0:(this.getResultsForClinicalData(),this.getResultsForLabData())}},getResultsForLabData:function(){var e,t,i,n,a;for(n=this.pcc.clinical.labReportsList,a=[],e=0,i=n.length;e<i;e++)t=n[e],"FPG"===t.type?this.fpg=parseFloat(t.value):"2hPG/Post meal"===t.type?this.twoHpg=parseFloat(t.value):"Urine Albumin"===t.type?lib.util.delay(100,function(e){return function(){return e.calcAlbuminType(t.value)}}(this)):"Urine Pus cell"===t.type?lib.util.delay(100,function(e){return function(){return e.calcUrinePusCellStatus(t.value)}}(this)):"Hb"===t.type?lib.util.delay(100,function(e){return function(){return e.calcHbStatus(t.value)}}(this)):"HBsAg"===t.type?lib.util.delay(100,function(e){return function(){return e.calcHBsAgStatus(t.value)}}(this)):"VDRL"===t.type&&lib.util.delay(100,function(e){return function(){return e.calcVdrlStatus(t.value)}}(this)),a.push(this.calc2HpgValue(this.fpg,this.twoHpg));return a},getResultsForClinicalData:function(){var e,t,i,n,a;for(n=this.pcc.clinical.clinicalExaminationList,a=[],e=0,i=n.length;e<i;e++)t=n[e],"Height"===t.type?(this.getPatientHeight=t.value/100,this.calcIdealWeight(t.value)):"Weight"===t.type?this.getPatientWeight=t.value:"Waist"===t.type?this.patientWaistValue=t.value:"Hip"===t.type?this.patientHipValue=t.value:"SBP"===t.type?(this.sbpValue=t.value,this.calcHypertension(this.sbpValue,this.dbpValue)):"DBP"===t.type&&(this.dbpValue=t.value,this.calcHypertension(this.sbpValue,this.dbpValue)),this.calcWaistHipRatio(this.patientWaistValue,this.patientHipValue),a.push(this.calcBMI(this.getPatientHeight,this.getPatientWeight));return a},getAddedMedicatonList:function(){var e,t,i,n,a,s,r,l,o,u;if(e={type:this.pcc.medicalManagement.lifeStyleType,list:[]},"Medication"===e.type){for(l=this.pcc.medicalManagement.medicationList,t=[],i=0,s=l.length;i<s;i++)for(o=l[i],u=o.list,a=0,r=u.length;a<r;a++)n=u[a],"yes"===n.isYes&&t.push(n);e.list=t}else this.addedMedication.list=[];return lib.util.delay(100,function(t){return function(){t.set("addedMedication",e)}}(this))},calcEstimateEddDate:function(){var e,t,i,n,a;return null!==this.pcc.clinical.pregnancyInfo.lmp||""!==this.pcc.clinical.pregnancyInfo.lmp?(i=this.pcc.clinical.pregnancyInfo.lmp,n=Date.parse(i),e=226368e5,a=n+e,t=lib.datetime.mkDate(a,"dd-mmm-yyyy"),this.set("pcc.clinical.pregnancyInfo.edd",t)):this.set("pcc.clinical.pregnancyInfo.edd","")},_gotoPreconceptionPreviewPage:function(e){return localStorage.setItem("pcc",JSON.stringify(this.patient)),this.domHost.navigateToPage("#/preview-preconception-record/record:"+e)},_mimicPatientImport:function(e){return e.flags={isImported:!1,isLocalOnly:!1,isOnlineOnly:!1},e.flags.isImported=!0,app.db.insert("patient-list",e)},_savePccRecord:function(e){return e.lastModifiedDatetimeStamp=lib.datetime.now(),app.db.upsert("pcc-records",e,function(t){return function(t){var i;return i=t.serial,e.serial===i}}(this))},_assignNewPatientToCurrentPccRecord:function(e){this.pcc.pccOthers=this.pccOthers,this.pcc.serial=this.generateSerialForPccRecord(),this.pcc.createdDatetimeStamp=lib.datetime.now(),this.pcc.patientSerial=e.serial},getComputedData:function(){var e;return e={bmi:this.bmi,hypertension:this.hypertension,glycemiaType:this.glycemiaType,hbStatus:this.hbStatus,albuminType:this.albuminType,urinePusCellStatus:this.urinePusCellStatus,hBsAgStatus:this.hBsAgStatus,vdrlStatus:this.vdrlStatus}},_memorizePinForNewPatient:function(e){var t;return t={patientSerial:e.serial,pin:e.doctorAccessPin},app.db.upsert("local-patient-pin-code-list",t,function(e){return function(e){var i;return i=e.patientSerial,t.patientSerial===i}}(this))},_createOnlinePccPatient:function(e,t){var i;return i={patient:e,apiKey:this.user.apiKey,computedData:this.getComputedData()},this.callApi("/bdemr-preconception-records-patient-registration",i,function(i){return function(n,a){return a.hasError?i.domHost.showModalDialog(a.error.message):(e=a.data.patient,i.domHost.loadOrganizationSmsBalance(i.organization.idOnServer),t(e))}}(this))},_createTemporaryOfflinePatient:function(e,t){var i;return i=""+(new Date).getTime()+"-"+(Math.floor(1e4*Math.random())+1e4),e.serial=i,e.isTemporaryOfflinePatient=!0,lib.util.delay(0,function(i){return function(){return t(e)}}(this))},_createPatientAndPccRecord:function(e,t){var i;return this.patient.name.first&&this.patient.password&&this.patient.phone&&this.patient.dateOfBirth?(this.patient.belongOrganizationList[0].organizationId=this.organization.idOnServer,i=new Promise(function(t){return function(i,n){return e?t._createTemporaryOfflinePatient(t.patient,function(e){return i(e)}):t._createOnlinePccPatient(t.patient,function(e){return i(e)})}}(this)),i.then(function(e){return function(t){return e._memorizePinForNewPatient(t),e._assignNewPatientToCurrentPccRecord(t),e._savePccRecord(e.pcc),e._mimicPatientImport(t),e.authorizePccRecordToCurrentOrganization(e.pcc.serial),e.domHost.showModalDialog("Patient Created Successfully!"),e._gotoPreconceptionPreviewPage(e.pcc.serial,e.pcc.visitReason.type)}}(this))):void this.domHost.showToast("Please Fill Up Required Information")},authorizePccRecordToCurrentOrganization:function(e,t){var i;return i={apiKey:this.user.apiKey,visitSerial:"none",recordSerial:e,recordType:"PCC",serverDb:"bdemr--pcc-records",organizationId:this.organization.idOnServer,masterType:"pcc-records",pccType:t},this.callApi("/bdemr-organization-authorize-particular-type-of-record",i,function(e){return function(t,i){return i.hasError?e.domHost.showModalDialog(i.error.message):e.domHost.showModalDialog("Organization is successfully authorized.")}}(this))},pccPatientOfflineSignupPressed:function(e){return null==e&&(e=null),this._createPatientAndPccRecord(!0,function(e){return function(){return null}}(this))},pccPatientSignupPressed:function(e){return null==e&&(e=null),this._createPatientAndPccRecord(!1,function(e){return function(){return null}}(this))},addFamilyHistoryDisease:function(){return this.push("pcc.medicalInfo.familyHistoryList",this.otherFamilyHistoryDisease)},addHistoryDisease:function(){return this.push("pcc.medicalInfo.historyOfDeseaseList",this.historyDisease)},addCookingOil:function(){return this.push("pcc.medicalInfo.typeOfCookingOilList",this.otherTypeOfCookingOil)},addVaccine:function(){return this.push("pcc.medicalInfo.vaccinationList",this.otherVaccine)},addDietItem:function(){return this.push("pcc.medicalInfo.dietaryHistoryList",this.otherDietItem)},addMedicine:function(e){var t,i;return t=e.model.index,i="pcc.medicalManagement.medicationList.2.list."+t+".medicineList",this.push(i,{name:"",dose:"",unit:""})},intializeComputedData:function(){return this.set("bmi",{results:0,classification:""}),this.set("idealWeight",0),this.set("estimateCaloriesIntake",0),this.set("foodChartName",""),this.set("waistHipRatio",{value:0,comment:"","class":"normal"}),this.set("hypertension",{type:"",comment:"","class":""}),this.set("glycemiaType",{value:"","class":""}),this.set("glycemiaTypeAdditionalMsg",{value:"","class":""}),this.set("albuminType",""),this.set("urinePusCellStatus",""),this.set("hBsAgStatus",""),this.set("vdrlStatus",""),this.set("patientWaistValue",0)},loadOrganization:function(e){return this.organization=this.getCurrentOrganization(),this.organization||this.domHost.navigateToPage("#/select-organization"),e()},navigatedIn:function(){var e;return this.intializeComputedData(),e=this.domHost.getPageParams(),this.loadOrganization(function(t){return function(){return t.set("orgSmsBalance",t.domHost.orgSmsBalance),t._loadUser(),"new"===e.patients?t._makePatientSignUp(function(){if("new"===e.record)return t.createPccRecord(),t.createOtherPccRecordData(),t.set("visitReasonIndex",0)}):t._loadPatient(e.patients,function(){return t.set("EDIT_MODE_ON",!0),"new"===e.record?(t.createPccRecord(),t.set("visitReasonIndex",1)):(t._loadPccRecord(e.record),t.set("EDIT_RECORD",!0))})}}(this))},navigatedOut:function(){return this.patient=null,this.isPatientValid=!1,this.set("visitReasonIndex",0),this.set("selectedPatientInfoPage",0),this.set("divisionIndex",-1),this.set("districtIndex",-1),this.set("bloodGroupIndex1",-1),this.set("bloodGroupIndex2",-1),this.set("EDIT_MODE_ON",!1),this.set("EDIT_RECORD",!1)}})}).call(this);
//# sourceMappingURL=page-preconception-record.coffee-compiled.js.map</script>
</dom-module>